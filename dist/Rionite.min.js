!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("cellx")):"function"==typeof define&&define.amd?define(["cellx"],e):"object"==typeof exports?exports.rionite=e(require("cellx")):t.Rionite=t.rionite=e(t.cellx)}(this,function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=42)}([function(e,n){e.exports=t},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}function o(){}function a(){}function s(){}function l(){}function u(){}function c(){}function d(){}e.__esModule=!0;var f=n(0),h=n(14),p=i(h),m=n(22),v=i(m),_=n(40),g=i(_),b=n(41),y=i(b),w=n(38),C=i(w),M=n(8),E=i(M),x=n(7),T=i(x),N=n(36),A=i(N),S=n(28),I=i(S),L=n(39),O=i(L),j=n(2),H=n(4),k=i(H),B=n(16),R=i(B),F=f.JS.Map,D=f.Utils.createClass,$=f.EventEmitter.extend({Implements:[p.default],Static:{register:g.default,extend:function(t,e){return e.Extends=this,(e.Static||(e.Static={})).elementIs=t,(0,g.default)(D(e))},elementIs:void 0,elementExtends:void 0,elementAttributes:null,props:null,i18n:null,template:null,_rawContent:null,_markupBlockNames:null,_assetClassNames:null,events:null},ownerComponent:null,_parentComponent:null,get parentComponent(){if(void 0!==this._parentComponent)return this._parentComponent;for(var t;t=(t||this.element).parentNode;)if(t.$c)return this._parentComponent=t.$c;return this._parentComponent=null},element:null,get elementAttributes(){var t=new v.default(this.element);return Object.defineProperty(this,"elementAttributes",{configurable:!0,enumerable:!0,writable:!0,value:t}),t},get props(){var t=Object.create(this.elementAttributes);return t.content=null,t.context=null,Object.defineProperty(this,"props",{configurable:!0,enumerable:!0,writable:!0,value:t}),t},_bindings:null,_assets:null,isElementAttached:!1,initialized:!1,isReady:!1,_isComponentSilent:void 0,constructor:function(t,e){if(f.EventEmitter.call(this),p.default.call(this),null==t)t=document.createElement(this.constructor.elementIs);else if("string"==typeof t){var n=this.constructor.elementIs,i=t;t=document.createElement(n),t.innerHTML=i;var r=t.firstChild;r==t.lastChild&&1==r.nodeType&&r.tagName.toLowerCase()==n&&(t=r)}if(this.element=t,t.rioniteComponent=this,Object.defineProperty(t,"$c",{value:this}),e){var o=this.props;for(var a in e)o[(0,k.default)(a)]=e[a]}this.created()},_handleEvent:function(t){f.EventEmitter.prototype._handleEvent.call(this,t);var e=this._isComponentSilent;if(void 0===e&&(e=this._isComponentSilent=this.element.hasAttribute("rt-silent")),!e&&t.bubbles!==!1&&!t.isPropagationStopped){var n=this.parentComponent;n?n._handleEvent(t):(0,O.default)(t)}},_attachElement:function(){this.initialized||(this.initialize(),this.initialized=!0);var t=this.constructor,e=t._rawContent,n=this.element;if(this.isReady){if(e)for(var i;i=n.firstChild;)n.removeChild(i)}else{(0,y.default)(n,t),(0,C.default)(this,t);var r=t.template;if(null!=r){e||(e=t._rawContent=(0,R.default)("string"==typeof r?r:r.render(t)));for(var o,a=this.props.content=document.createDocumentFragment();o=n.firstChild;)a.appendChild(o)}}if(e){var s=e.cloneNode(!0),l=(0,E.default)(s,this),u=l.bindings,c=l.childComponents;this._bindings=u,this.element.appendChild(s),c&&(0,T.default)(c),(0,A.default)(this,t.events)}this.isReady||(e||(0,A.default)(this,t.events),this.ready(),this.isReady=!0),this.elementAttached()},_detachElement:function(){this.beforeElementDetach(),this.dispose(),this.elementDetached()},dispose:function(){this._destroyBindings(),p.default.prototype.dispose.call(this)},_destroyBindings:function(){var t=this._bindings;if(t){for(var e=t.length;e;)t[--e].off();this._bindings=null}},created:r,initialize:o,ready:a,elementAttached:s,beforeElementDetach:l,elementDetached:u,elementMoved:c,elementAttributeChanged:d,$:function(t,e){"boolean"==typeof e&&(e={useCache:e});var n=!e||e.useCache!==!1,i=e&&e.all,r=this._assets||(this._assets=new F),o=n&&r.get(i?t+"*":t);if(!o){var a=e&&e.container,s=this.constructor,l=s._assetClassNames[t],u=a?a instanceof $?a.element:a:this.element,c=void 0;if(l)c=u.getElementsByClassName(l);else for(var d=s._markupBlockNames,f=d.length;f;)if(l=d[--f]+"__"+t,c=u.getElementsByClassName(l),c.length){s._assetClassNames[t]=l;break}if(i)return r.set(t+"*",c),c;var h=c[0];o=h?h.$c||h:null,r.set(t,o)}return o},$$:function(t,e){return"boolean"==typeof e&&(e={useCache:e}),j.map.call(this.$(t,{__proto__:e,all:!0}),function(t){return t.$c||t})}});document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),I.default.forEach(function(t){document.addEventListener(t,O.default)})}),e.default=$},function(t,e){"use strict";e.slice=Array.prototype.slice,e.push=Array.prototype.push,e.map=Array.prototype.map},function(t,e){"use strict";e.hasOwn=Object.prototype.hasOwnProperty,e.toString=Object.prototype.toString},function(t,e){"use strict";function n(t){return r[t]||(r[t]=t.replace(i,function(t,e){return e.toUpperCase()}))}var i=/[-_]+([a-z]|$)/g,r=Object.create(null);e.__esModule=!0,e.default=n},function(t,e){"use strict";e.__esModule=!0,e.default="[$_a-zA-Z][$\\w]*"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(0),o=n(30),a=i(o),s=n(5),l=i(s),u=n(29),c=i(u),d=RegExp(l.default+"|","g"),f=RegExp(c.default+"|","g"),h=/false|true|/g,p=/(?:[+-]\s*)?(?:0b[01]+|0[0-7]+|0x[0-9a-fA-F]+|(?:(?:0|[1-9]\d*)(?:\.\d+)?|\.\d+)(?:[eE][+-]?\d+)?|Infinity|NaN)|/g,m=/null|undefined|void 0|/g,v={},_={TEXT:0,BINDING:1,BINDING_KEYPATH:2,BINDING_FORMATTER:3,BINDING_FORMATTER_ARGUMENTS:4};e.default=r.Utils.createClass({Static:{ContentNodeType:_},constructor:function(t){this.content=t},parse:function(){this.at=0;for(var t,e=this.result=[];(t=this.content.indexOf("{",this.at))>-1;){this.pushText(this.content.slice(this.at,t)),this.at=t,this.chr=this.content.charAt(t);var n=this.readBinding();n?e.push(n):(this.pushText(this.chr),this.next("{"))}return this.pushText(this.content.slice(this.at)),e},pushText:function(t){if(t.length){var e=this.result,n=e.length;n&&e[n-1].type==_.TEXT?e[n-1].value=e[n-1].raw+=t:e.push({type:_.TEXT,at:this.at,raw:t,value:t})}},readBinding:function(){var t=this.at;this.next("{"),this.skipWhitespaces();var e=this.readBindingKeypath();if(e){for(var n,i=[];"|"==this.skipWhitespaces()&&(n=this.readFormatter());)i.push(n);if("}"==this.chr)return this.next(),{type:_.BINDING,at:t,raw:this.content.slice(t,this.at),keypath:e,formatters:i}}return this.at=t,this.chr=this.content.charAt(t),null},readBindingKeypath:function(){f.lastIndex=this.at;var t=f.exec(this.content)[0];if(t){var e=this.at;return this.chr=this.content.charAt(this.at+=t.length),{type:_.BINDING_KEYPATH,at:e,raw:this.content.slice(e,this.at),value:t}}return null},readFormatter:function(){var t=this.at;this.next("|"),this.skipWhitespaces(),d.lastIndex=this.at;var e=d.exec(this.content)[0];if(e){var n="("==(this.chr=this.content.charAt(this.at+=e.length))?this.readFormatterArguments():null;return{type:_.BINDING_FORMATTER,at:t,raw:this.content.slice(t,this.at),name:e,arguments:n}}return this.at=t,this.chr=this.content.charAt(t),null},readFormatterArguments:function(){var t=this.at,e=[];if(this.next("("),")"!=this.skipWhitespaces())for(;;){var n=this.readValueOrValueKeypath();if(n!==v&&(","==this.skipWhitespaces()||")"==this.chr)){if(e.push(n),","==this.chr){this.next(),this.skipWhitespaces();continue}break}return this.at=t,this.chr=this.content.charAt(t),null}return this.next(),{type:_.BINDING_FORMATTER_ARGUMENTS,at:t,raw:this.content.slice(t,this.at),value:e}},readValueOrValueKeypath:function(){var t=this.readValue();return t===v?this.readValueKeypath():t},readValue:function(){switch(this.chr){case"{":return this.readObject();case"[":return this.readArray();case"'":case'"':return this.readString()}for(var t=["readBoolean","readNumber","readVacuum"],e=0,n=t.length;e<n;e++){var i=this[t[e]]();if(i!==v)return i}return v},readObject:function(){var t=this.at;this.next("{");for(var e="{";"}"!=this.skipWhitespaces();){var n="'"==this.chr||'"'==this.chr?this.readString():this.readObjectKey();if(n!==v&&null!==n&&":"==this.skipWhitespaces()){this.next(),this.skipWhitespaces();var i=this.readValueOrValueKeypath();if(i!==v){if(","==this.skipWhitespaces()){e+=n+":"+i+",",this.next();continue}if("}"==this.chr){e+=n+":"+i+"}";break}}}return this.at=t,this.chr=this.content.charAt(t),v}return this.next(),e},readObjectKey:function(){d.lastIndex=this.at;var t=d.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),t):null},readArray:function(){var t=this.at;this.next("[");for(var e="[";"]"!=this.skipWhitespaces();)if(","==this.chr)e+=",",this.next();else{var n=this.readValueOrValueKeypath();if(n===v)return this.at=t,this.chr=this.content.charAt(t),v;e+=n}return this.next(),e+"]"},readBoolean:function(){h.lastIndex=this.at;var t=h.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),t):v},readNumber:function(){p.lastIndex=this.at;var t=p.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),t):v},readString:function(){if("'"!=this.chr&&'"'!=this.chr)throw{name:"SyntaxError",message:'Expected "\'" or \'"\' instead of "'+this.chr+'"',at:this.at,content:this.content};for(var t=this.at,e=this.chr,n="";this.next();){if(this.chr==e)return this.next(),e+n+e;if("\\"==this.chr)n+=this.chr+this.next();else{if("\r"==this.chr||"\n"==this.chr)break;n+=this.chr}}return this.at=t,this.chr=this.content.charAt(t),v},readVacuum:function(){m.lastIndex=this.at;var t=m.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),t):v},readValueKeypath:function(){f.lastIndex=this.at;var t=f.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),(0,a.default)(t)):v},next:function(t){if(t&&t!=this.chr)throw{name:"SyntaxError",message:'Expected "'+t+'" instead of "'+this.chr+'"',at:this.at,content:this.content};return this.chr=this.content.charAt(++this.at)},skipWhitespaces:function(){for(var t=this.chr;t&&t<=" ";)t=this.next();return t}})},function(t,e){"use strict";function n(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];i.isElementAttached||(i.isElementAttached=!0,i._attachElement())}}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){function i(t){for(var l=function(t){switch(t.nodeType){case 1:for(var l=t.attributes,c=l.length;c;){var p=l.item(--c),m=p.value;if(h.test(m)){var v=new s.default(m).parse();(v.length>1||v[0].type==f.BINDING)&&!function(){var e=p.name,i=new o.Cell((0,u.default)(v,m),{owner:n,onChange:function(n){(0,d.default)(t,e,n.value)}});(0,d.default)(t,e,i.get()),(r||(r=[])).push(i)}()}}var _=t.$c;_&&(_.ownerComponent=e,_.props.context=n,(a||(a=[])).push(_)),!t.firstChild||_&&null!=_.constructor.template||i(t);break;case 3:var g=t.textContent;if(h.test(g)){var b=new s.default(g).parse();if(b.length>1||b[0].type==f.BINDING){var y=new o.Cell((0,u.default)(b,g),{owner:n,onChange:function(e){t.textContent=e.value}});t.textContent=y.get(),(r||(r=[])).push(y)}}}},c=t.firstChild;c;c=c.nextSibling)l(c)}n||(n=e);var r=null,a=null;return i(t),{bindings:r,childComponents:a}}e.__esModule=!0,e.default=r;var o=n(0),a=n(6),s=i(a),l=n(37),u=i(l),c=n(25),d=i(c),f=s.default.ContentNodeType,h=/{[^}]+}/},function(t,e){"use strict";function n(t){return i.test(t)?t.replace(i,function(t){return r[t]}):t}var i=/[&<>"]/g,r=Object.create(null);r["&"]="&amp;",r["<"]="&lt;",r[">"]="&gt;",r['"']="&quot;",e.__esModule=!0,e.default=n},function(t,e){"use strict";function n(t){return i.test(t)?t.replace(i,function(t){return r[t]}):t}var i=/[\\'\r\n]/g,r=Object.create(null);r["\\"]="\\\\",r["'"]="\\'",r["\r"]="\\r",r["\n"]="\\n",e.__esModule=!0,e.default=n},function(t,e){"use strict";function n(t){return a[t]||(a[t]=t.replace(i,function(t,e,n){return"-"+e.toLowerCase()+n}).replace(r,function(t,e){return"-"+e.toLowerCase()}).replace(o,""))}var i=/-?([A-Z])([^A-Z])/g,r=/-?([A-Z]+)/g,o=/^-/,a=Object.create(null);e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){var e=t.raw;if(a[e])return a[e];var n=r.default(t),i="var temp; return "+n.value+";";if(n.usesFormatters){var s=Function("formatters",i);return a[e]=function(){return s.call(this,o.default)}}return a[e]=Function(i)}var r=n(19),o=n(13),a=Object.create(null);e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var i=n(20);e.__esModule=!0,e.default={or:function(t,e){return t||e},default:function(t,e){return void 0===t?e:t},not:function(t){return!t},eq:function(t,e){return t==e},identical:function(t,e){return t===e},lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e},join:function(t,e){return void 0===e&&(e=", "),t.join(e)},t:i.default.t,pt:i.default.pt,nt:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return n.unshift(t),i.default("",e,!0,n)},npt:function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return r.unshift(t),i.default(n,e,!0,r)},key:function t(e,t){return e&&e[t]},json:function(t){return JSON.stringify(t)}}},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(0),o=r.EventEmitter,a=r.Utils.nextUID,s=function(t){function e(){var e=t.call(this)||this;return e._disposables={},e}return i(e,t),e.prototype.listenTo=function(t,e,n,i){var r,o=this;if("object"==typeof e)if(r=[],Array.isArray(e)){arguments.length<4&&(i=this);for(var s=0,l=e;s<l.length;s++){var u=l[s];r.push(this.listenTo(t,u,n,i))}}else{arguments.length<3&&(n=this);for(var u in e)r.push(this.listenTo(t,u,e[u],n))}else if(arguments.length<4&&(i=this),Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection){r=[];for(var c=0,d=t.length;c<d;c++)r.push(this.listenTo(t[c],e,n,i))}else{if(!Array.isArray(n))return this._listenTo(t,e,n,i);r=[];for(var f=0,h=n;f<h.length;f++){var p=h[f];r.push(this.listenTo(t,e,p,i))}}var m=a(),v=function(){for(var t=r.length;t;)r[--t].stop();delete o._disposables[m]},_=this._disposables[m]={stop:v,dispose:v};return _},e.prototype._listenTo=function(t,e,n,i){var r=this;if(t instanceof o)t.on(e,n,i);else{if(!t.addEventListener)throw new TypeError("Unable to add a listener");t!==i&&(n=n.bind(i)),t.addEventListener(e,n)}var s=a(),l=function(){r._disposables[s]&&(t instanceof o?t.off(e,n,i):t.removeEventListener(e,n),delete r._disposables[s])},u=this._disposables[s]={stop:l,dispose:l};return u},e.prototype.setTimeout=function(t,e){var n=this,i=a(),r=setTimeout(function(){delete n._disposables[i],t.call(n)},e),o=function(){n._disposables[i]&&(clearTimeout(r),delete n._disposables[i])},s=this._disposables[i]={clear:o,dispose:o};return s},e.prototype.setInterval=function(t,e){var n=this,i=a(),r=setInterval(function(){t.call(n)},e),o=function(){n._disposables[i]&&(clearInterval(r),delete n._disposables[i])},s=this._disposables[i]={clear:o,dispose:o};return s},e.prototype.registerCallback=function(t){var e=this,n=a(),i=this,r=function(){delete e._disposables[n]},o=function(){if(i._disposables[n])return delete i._disposables[n],t.apply(i,arguments)};return o.cancel=r,o.dispose=r,this._disposables[n]=o,o},e.prototype.dispose=function(){var t=this._disposables;for(var e in t)t[e].dispose();return this},e}(o);e.__esModule=!0,e.default=s},function(t,e,n){"use strict";function i(){var t=o;o=null;for(var e=0,n=t;e<n.length;e++){var i=n[e];try{i.callback.call(i.context)}catch(t){a.ErrorLogger.log(t)}}}function r(t,e){o?o.push({callback:t,context:e}):(o=[{callback:t,context:e}],setTimeout(i,1))}var o,a=n(0);e.__esModule=!0,e.default=r},function(t,e){"use strict";var n,i=document.createRange();if(i.createContextualFragment){var r=!1;n=function(t){return r||(i.selectNode(document.body),r=!0),i.createContextualFragment(t)}}else n=function(t){var e=document.createElement("div"),n=document.createDocumentFragment();e.innerHTML=t;for(var i=void 0;i=e.firstChild;)n.appendChild(i);return n};e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){return"[object RegExp]"==r.toString.call(t)}var r=n(3);e.__esModule=!0,e.default=i},function(t,e){"use strict";function n(t){return i.test(t)?t.replace(i,function(t){return r[t]}):t}var i=/&(?:amp|lt|gt|quot);/g,r=Object.create(null);r["&amp;"]="&",r["&lt;"]="<",r["&gt;"]=">",r["&quot;"]='"',e.__esModule=!0,e.default=n},function(t,e){"use strict";function n(t,e){var n=e.arguments;return"(this['"+e.name+"'] || formatters['"+e.name+"']).call(this, "+t+(n&&n.value.length?", "+n.value.join(", "):"")+")"}function i(t){var e=t.raw;if(r[e])return r[e];var i=t.keypath.value.split("?"),o=i.length,a=t.formatters,s=!!a.length;if(1==o)return r[e]={value:s?a.reduce(n,"this."+i[0]):"this."+i[0],usesFormatters:s};for(var l=o-2,u=Array(l);l;)u[--l]=" && (temp = temp"+i[l+1]+")";return r[e]={value:"(temp = this."+i[0]+")"+u.join("")+" && "+(s?a.reduce(n,"temp"+i[o-1]):"temp"+i[o-1]),usesFormatters:s}}var r=Object.create(null);e.__esModule=!0,e.default=i},function(t,e,n){"use strict";function i(t){l=t.texts,u=Function("n","return "+t.localeSettings.plural+";"),f.localeSettings=t.localeSettings}function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return f("",t,!1,e)}function o(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return f(e,t,!1,n)}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return f("",t,!0,e)}function s(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return f(e,t,!0,n)}var l,u,c=n(3),d=/\{([1-9]\d*|n)(?::((?:[^|]*\|)+?[^}]*))?\}/,f=function(t,e,n,i){var r;r=c.hasOwn.call(l,t)&&c.hasOwn.call(l[t],e)?n?l[t][e][u(+i[0])]:l[t][e]:e;for(var o=Object.create(null),a=i.length;a;)o[a]=i[--a];n&&(o.n=i[0]);for(var s=r.split(d),f=[],a=0,h=s.length;a<h;)a%3?(f.push(s[a+1]?s[a+1].split("|")[u(o[s[a]])]:o[s[a]]),a+=2):(f.push(s[a]),a++);return f.join("")};f.configure=i,f.t=r,f.pt=o,f.nt=a,f.npt=s,e.__esModule=!0,e.default=f,i({localeSettings:{code:"ru",plural:"(n%100) >= 5 && (n%100) <= 20 ? 2 : (n%10) == 1 ? 0 : (n%10) >= 2 && (n%10) <= 4 ? 1 : 2"},texts:{}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(0),o=n(6),a=i(o),s=n(12),l=i(s),u=n(8),c=i(u),d=n(7),f=i(d),h=n(1),p=i(h),m=n(2),v=r.Utils.nextTick,_=a.default.ContentNodeType;e.default=p.default.extend("rt-if-then",{Static:{elementExtends:"template",props:{if:{type:String,required:!0,readonly:!0}}},_if:null,_elseMode:!1,_nodes:null,_attachElement:function(){var t=this;this.initialized||!function(){var e=t.props;e.content=document.importNode(t.element.content,!0);var n=new a.default("{"+e.if+"}").parse();if(n.length>1||n[0].type!=_.BINDING)throw new SyntaxError('Invalid value of attribute "if" ('+e.if+")");var i=(0,l.default)(n[0]);t._if=new r.Cell(function(){return!!i.call(this)},{owner:e.context}),t.initialized=!0}(),this._if.on("change",this._onIfChange,this),this._render(!1)},_detachElement:function(){this._destroyBindings(),this._if.off("change",this._onIfChange,this);var t=this._nodes;if(t)for(var e=t.length;e;){var n=t[--e],i=n.parentNode;i&&i.removeChild(n)}},_onIfChange:function(){this.element.parentNode&&this._render(!0)},_render:function(t){var e=this;if(this._elseMode?!this._if.get():this._if.get()){var n=this.props.content.cloneNode(!0),i=(0,c.default)(n,this.ownerComponent,this.props.context),r=i.bindings,o=i.childComponents;this._nodes=m.slice.call(n.childNodes),this._bindings=r,this.element.parentNode.insertBefore(n,this.element.nextSibling),o&&(0,f.default)(o)}else{this._destroyBindings();var a=this._nodes;if(a){for(var s=a.length;s;){var l=a[--s];l.parentNode.removeChild(l)}this._nodes=null}}t&&v(function(){e.emit("change")})}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(0),o=n(26),a=i(o),s=n(4),l=i(s),u=n(11),c=i(u),d=r.JS.Map,f=new d([[Boolean,"boolean"],["boolean","boolean"],[Number,"number"],["number","number"],[String,"string"],["string","string"]]),h=r.EventEmitter.extend({constructor:function(t){var e=this,n=t.$c,i=n.constructor.elementAttributes,o=function(o){var s=i[o],u=typeof s,d=void 0,h=void 0,p=void 0;if("function"==u)u=s,h=p=!1;else if("object"!=u||void 0===s.type&&void 0===s.default)d=s,h=p=!1;else{if(u=s.type,d=s.default,void 0===u)u=typeof d;else if(void 0!==d&&f.get(u)!==typeof d)throw new TypeError("Specified type does not match type of defaultValue");h=s.required,p=s.readonly}var m=a.default.get(u);if(!m)throw new TypeError("Unsupported attribute type");var v=(0,l.default)(o),_=(0,c.default)(o);if(h&&!t.hasAttribute(_))throw new TypeError('Property "'+o+'" is required');var g=void 0;p?!function(){var e=m[0](t.getAttribute(_),d);g={configurable:!0,enumerable:!0,get:function(){return e},set:function(t){if(t!==e)throw new TypeError('Property "'+o+'" is readonly')}}}():!function(){var i=void 0,o=void 0,a=void 0,s=e["_"+v]=e["_"+_]=new r.Cell(t.getAttribute(_),{merge:function(t,e){return t!==e&&(i=o,o=m[0](t,d)),a=n.isReady,t},onChange:function(t){t.oldValue=i,t.value=o,a&&n.elementAttributeChanged(_,i,o)}});g={configurable:!0,enumerable:!0,get:function(){return s.get(),o},set:function(e){e=m[1](e,d),null===e?t.removeAttribute(_):t.setAttribute(_,e),s.set(e)}}}(),Object.defineProperty(e,v,g),_!=v&&Object.defineProperty(e,_,g)};for(var s in i)o(s)}});e.default=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(14),o=i(r),a=n(13),s=i(a),l=n(20),u=i(l),c=n(22),d=i(c),f=n(24),h=i(f),p=n(1),m=i(p),v=n(32),_=i(v),g=n(21),b=i(g),y=n(33),w=i(y),C=n(34),M=i(C),E=n(4),x=i(E),T=n(11),N=i(T),A=n(10),S=i(A),I=n(9),L=i(I),O=n(18),j=i(O),H=n(17),k=i(H),B=n(15),R=i(B),F=n(16),D=i(F),$={DisposableMixin:o.default,formatters:s.default,getText:u.default,ElementAttributes:d.default,ComponentTemplate:h.default,Component:m.default,Components:{RtContent:_.default,RtIfThen:b.default,RtIfElse:w.default,RtRepeat:M.default},Utils:{camelize:x.default,hyphenize:N.default,escapeString:S.default,escapeHTML:L.default,unescapeHTML:j.default,isRegExp:k.default,defer:R.default,htmlToFragment:D.default}};$.Rionite=$,t.exports=$.default=$},function(t,e,n){"use strict";var i=n(10),r=n(9),o=n(5),a="(?:"+o.default+"|\\[\\d+\\])(?:\\."+o.default+"|\\[\\d+\\])*",s=RegExp("\\{\\{(?:\\s*(?:block\\s+("+o.default+")|(\\/)block|(s)uper\\(\\)|("+a+"))\\s*|\\{\\s*("+a+")\\s*\\})\\}\\}"),l=function(){function t(t,e){void 0===e&&(e=null),this.parent=e;for(var n={name:null,source:[]},o=[n],a={},l=t.split(s),u=0,c=l.length;u<c;)if(u%6){var d=l[u];if(d)n.source.push("this."+d+".call(this, data)"),n={name:d,source:[]},o.push(a[d]=n);else if(l[u+1])o.length>1&&(o.pop(),n=o[o.length-1]);else if(l[u+2])e&&o.length>1&&e._blockMap[n.name]&&n.source.push("$super.call(this, data)");else{var f=l[u+3];n.source.push(f?"escape(data."+f+")":"data."+l[u+4])}u+=5}else{var h=l[u];h&&n.source.push("'"+i.default(h)+"'"),u++}this._renderer=e?e._renderer:Function("data","escape","return ["+o[0].source.join(", ")+"].join('');"),Object.keys(a).forEach(function(t){var n=e&&e._blockMap[t],i=Function("$super","data","escape","return ["+a[t].source.join(", ")+"].join('');");this[t]=function(t){return i.call(this,n,t,r.default)}},this._blockMap=Object.create(e&&e._blockMap))}return t.prototype.extend=function(e){return new t(e,this)},t.prototype.render=function(t){return this._renderer.call(this._blockMap,t||{},r.default)},t}();e.__esModule=!0,e.default=l},function(t,e){"use strict";function n(t,e,n){n===!1||null==n?t.removeAttribute(e):t.setAttribute(e,n===!0?"":n)}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(0),r=n(9),o=n(18),a=n(17),s=i.JS.Map;e.__esModule=!0,e.default=new s([[Boolean,[function(t){return null!==t&&"no"!=t},function(t){return t?"":null}]],["boolean",[function(t,e){return null!==t?"no"!=t:e},function(t,e){return t?"":e?"no":null}]],[Number,[function(t){return null!==t?+t:void 0},function(t){return void 0!==t?String(+t):null}]],["number",[function(t,e){return null!==t?+t:e},function(t){return void 0!==t?String(+t):null}]],[String,[function(t){return null!==t?t:void 0},function(t){return void 0!==t?String(t):null}]],["string",[function(t,e){return null!==t?t:e},function(t){return void 0!==t?String(t):null}]],[Object,[function(t){return null!==t?Object(Function("return "+o.default(t)+";")()):void 0},function(t){return null!=t?r.default(a.default(t)?t.toString():JSON.stringify(t)):null}]],["object",[function(t,e){return null!==t?Object(Function("return "+o.default(t)+";")()):e},function(t){return null!=t?r.default(a.default(t)?t.toString():JSON.stringify(t)):null}]]])},function(t,e,n){"use strict";var i=n(0),r=i.Utils.mixin;e.__esModule=!0,e.default=r(Object.create(null),{a:window.HTMLAnchorElement,blockquote:window.HTMLQuoteElement,br:window.HTMLBRElement,caption:window.HTMLTableCaptionElement,col:window.HTMLTableColElement,colgroup:window.HTMLTableColElement,datalist:window.HTMLDataListElement,del:window.HTMLModElement,dir:window.HTMLDirectoryElement,dl:window.HTMLDListElement,document:window.HTMLDocument,element:Element,fieldset:window.HTMLFieldSetElement,frameset:window.HTMLFrameSetElement,h1:window.HTMLHeadingElement,h2:window.HTMLHeadingElement,h3:window.HTMLHeadingElement,h4:window.HTMLHeadingElement,h5:window.HTMLHeadingElement,h6:window.HTMLHeadingElement,hr:window.HTMLHRElement,iframe:window.HTMLIFrameElement,img:window.HTMLImageElement,ins:window.HTMLModElement,li:window.HTMLLIElement,menuitem:window.HTMLMenuItemElement,ol:window.HTMLOListElement,optgroup:window.HTMLOptGroupElement,p:window.HTMLParagraphElement,q:window.HTMLQuoteElement,tbody:window.HTMLTableSectionElement,td:window.HTMLTableCellElement,template:window.HTMLTemplateElement||HTMLElement,textarea:window.HTMLTextAreaElement,tfoot:window.HTMLTableSectionElement,th:window.HTMLTableCellElement,thead:window.HTMLTableSectionElement,tr:window.HTMLTableRowElement,ul:window.HTMLUListElement,vhgroupv:window.HTMLUnknownElement,vkeygen:window.HTMLUnknownElement})},function(t,e){"use strict";e.__esModule=!0,e.default=["click","dblclick","mousedown","mouseup","input","change","submit","focusin","focusout"]},function(t,e,n){"use strict";var i=n(5);e.__esModule=!0,e.default="(?:"+i.default+"|\\[\\d+\\])(?:\\??(?:\\."+i.default+"|\\[\\d+\\]))*"},function(t,e){"use strict";function n(t){if(i[t])return i[t];var e=t.split("?"),n=e.length;if(1==n)return i[t]="this."+t;for(var r=n-2,o=Array(r);r;)o[--r]=" && (temp = temp"+e[r+1]+")";return i[t]="(temp = this."+e[0]+")"+o.join("")+" && temp"+e[n-1]}var i=Object.create(null);e.__esModule=!0,e.default=n},function(t,e){"use strict";var n=document.createElement("div");n.innerHTML="<template>1</template>";var i=n.firstChild;e.templateTagSupport=!i.firstChild},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(0),o=n(8),a=i(o),s=n(7),l=i(s),u=n(1),c=i(u),d=n(31),f=r.JS.Symbol("Rionite.RtContent#templatesFixed");e.default=c.default.extend("rt-content",{Static:{props:{select:{type:String,readonly:!0},getContext:{type:String,readonly:!0}},template:""},_rawContent:void 0,_attachElement:function(){var t=this.ownerComponent,e=this.element,n=this.props;if(this.isReady)for(var i;i=e.firstChild;)e.removeChild(i);else{for(var r,o=n.content=document.createDocumentFragment();r=e.firstChild;)o.appendChild(r);var s=t.props.content,u=this.elementAttributes.select;if(u){if(!d.templateTagSupport&&!s[f]){for(var c=s.querySelectorAll("template"),h=c.length;h;)c[--h].content;s[f]=!0}var p=s.querySelectorAll(u),m=p.length;if(m)for(var v=this._rawContent=document.createDocumentFragment(),_=0;_<m;_++)v.appendChild(p[_].cloneNode(!0));else this._rawContent=o}else this._rawContent=s.firstChild?s:o;this.isReady=!0}var g=this._rawContent.cloneNode(!0),b=n.getContext,y=this._rawContent==n.content?(0,a.default)(g,t,b?t[b](this,n.context):n.context):(0,a.default)(g,t.ownerComponent,b?t[b](this,t.props.context):t.props.context),w=y.bindings,C=y.childComponents;this._bindings=w,e.appendChild(g),C&&(0,l.default)(C)},_detachElement:function(){this._destroyBindings()}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(21),o=i(r);e.default=o.default.extend("rt-if-else",{Static:{elementExtends:"template"},_elseMode:!0})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(0),o=n(6),a=i(o),s=n(12),l=i(s),u=n(8),c=i(u),d=n(7),f=i(d),h=n(1),p=i(h),m=n(5),v=i(m),_=n(2),g=r.JS.Map,b=r.Utils.nextTick,y=a.default.ContentNodeType,w=RegExp("^\\s*("+v.default+")\\s+of\\s+(\\S.*)$"),C='Invalid value of attribute "for"';e.default=p.default.extend("rt-repeat",{Static:{elementExtends:"template",props:{for:{type:String,required:!0,readonly:!0},trackBy:{type:String,readonly:!0},strip:{default:!1,readonly:!0}}},_itemName:void 0,_list:null,_itemMap:null,_oldItemMap:null,_trackBy:void 0,_rawItemContent:null,_context:null,_lastNode:null,_attachElement:function(){if(!this.initialized){var t=this.props,e=t.for.match(w);if(!e)throw new SyntaxError(C+(" ("+t.for+")"));var n=new a.default("{"+e[2]+"}").parse();if(n.length>1||n[0].type!=y.BINDING)throw new SyntaxError(C+(" ("+t.for+")"));this._itemName=e[1],this._list=new r.Cell((0,l.default)(n[0]),{owner:t.context}),this._itemMap=new g,this._trackBy=t.trackBy;var i=this._rawItemContent=document.importNode(this.element.content,!0);if(t.strip){var o=i.firstChild,s=i.lastChild;o==s?3==o.nodeType&&(o.textContent=o.textContent.trim()):(3==o.nodeType&&((o.textContent=o.textContent.replace(/^\s+/,""))||i.removeChild(o)),3==s.nodeType&&((s.textContent=s.textContent.replace(/\s+$/,""))||i.removeChild(s)))}this._context=t.context,this.initialized=!0}this._list.on("change",this._onListChange,this),this._render(!1)},_detachElement:function(){this._clearWithItemMap(this._itemMap),this._list.off("change",this._onListChange,this)},_onListChange:function(){this.element.parentNode&&this._render(!0)},_render:function(t){var e=this,n=this._oldItemMap=this._itemMap;this._itemMap=new g;var i=this._list.get(),r=!1;if(i&&(this._lastNode=this.element,r=i.reduce(function(t,n,i){return e._renderItem(n,i)||t},r)),n.size)this._clearWithItemMap(n);else if(!r)return;t&&b(function(){e.emit("change")})},_renderItem:function(t,e){var n,i=this._trackBy,o=i?"$index"==i?e:t[i]:t,a=this._oldItemMap.get(o),s=this._itemMap.get(o);if(a){var l=void 0;1==a.length?(l=a[0],this._oldItemMap.delete(o)):l=a.shift(),s?s.push(l):this._itemMap.set(o,[l]),l.item.set(t);var u=l.nodes;if(e==l.index.get())return this._lastNode=u[u.length-1],!1;if(l.index.set(e),1==u.length){var d=u[0];this._lastNode.parentNode.insertBefore(d,this._lastNode.nextSibling),this._lastNode=d}else{for(var h=document.createDocumentFragment(),p=0,m=u.length;p<m;p++)h.appendChild(u[p]);var v=h.lastChild;this._lastNode.parentNode.insertBefore(h,this._lastNode.nextSibling),this._lastNode=v}return!0}t=new r.Cell(t),e=new r.Cell(e);var g=this._rawItemContent.cloneNode(!0),b=Object.create(this._context,(n={},n[this._itemName]={get:function(){return t.get()}},n.$index={get:function(){return e.get()}},n)),y=(0,c.default)(g,this.ownerComponent,b),w=y.bindings,C=y.childComponents,M={item:t,index:e,nodes:_.slice.call(g.childNodes),bindings:w};s?s.push(M):this._itemMap.set(o,[M]);var E=g.lastChild;return this._lastNode.parentNode.insertBefore(g,this._lastNode.nextSibling),
this._lastNode=E,C&&(0,f.default)(C),!0},_clearWithItemMap:function(t){t.forEach(this._clearWithItems,this),t.clear()},_clearWithItems:function(t){for(var e=t.length;e;){var n=t[--e],i=n.bindings;if(i)for(var r=i.length;r;)i[--r].off();for(var o=n.nodes,a=o.length;a;){var s=o[--a],l=s.parentNode;l&&l.removeChild(s)}}}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r,o=n(0),a=n(3),s=n(15),l=i(s),u=o.JS.Symbol,c=u("Rionite.ElementProtoMixin.attached"),d=(r={rioniteComponent:null,get $c(){return new this._rioniteComponentConstructor(this)}},r[c]=!1,r.connectedCallback=function(){this[c]=!0;var t=this.rioniteComponent;t?t.isElementAttached?null===t._parentComponent&&(t._parentComponent=void 0,t.elementMoved()):(t._parentComponent=void 0,t.isElementAttached=!0,t._attachElement()):(0,l.default)(function(){if(this[c]){var t=this.$c;t._parentComponent=void 0,t.parentComponent||(t.isElementAttached=!0,t._attachElement())}},this)},r.disconnectedCallback=function(){this[c]=!1;var t=this.rioniteComponent;t&&t.isElementAttached&&(t._parentComponent=null,(0,l.default)(function(){null===t._parentComponent&&t.isElementAttached&&(t.isElementAttached=!1,t._detachElement())}))},r.attributeChangedCallback=function(t,e,n){var i=this.rioniteComponent;if(i&&i.isReady){var r=i.elementAttributes,o="_"+t;a.hasOwn.call(r,o)&&r[o].set(n)}},r);e.default=d},function(t,e){"use strict";function n(t,e){for(var n in e){var i=void 0;if(":component"==n)i=t;else if(":element"==n)i=t.element;else if(i=t.$(n),!i)continue;var r=e[n];for(var o in r)t.listenTo(i,o,r[o])}}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(v[e])return v[e];if(1==t.length){var n=t[0];if(n.type==m.BINDING)return v[e]=(0,c.default)(n)}for(var i=!1,r=[],o=0,a=t.length;o<a;o++){var s=t[o];if(s.type==m.TEXT)r.push("'"+(0,p.default)(s.value)+"'");else{var u=(0,l.default)(s);!i&&u.usesFormatters&&(i=!0),r.push(u.value)}}if(r="var temp; return ["+r.join(", ")+"].join('');",i){var d=function(){var t=Function("formatters",r);return{v:v[e]=function(){return t.call(this,f.default)}}}();if("object"==typeof d)return d.v}return v[e]=Function(r)}e.__esModule=!0,e.default=r;var o=n(6),a=i(o),s=n(19),l=i(s),u=n(12),c=i(u),d=n(13),f=i(d),h=n(10),p=i(h),m=a.default.ContentNodeType,v=Object.create(null)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=t.elementAttributes,i=e.elementAttributes;for(var r in i)if("function"!=typeof i[r]){var o=(0,a.default)(r);n[o]=n[o]}}e.__esModule=!0,e.default=r;var o=n(4),a=i(o)},function(t,e){"use strict";function n(t){var e=void 0,n=void 0,i=void 0;for(t instanceof Event?(e=t.target,n="rt-"+t.type):(e=t.target.element,n="rt-component-"+t.type);1==e.nodeType&&e.hasAttribute(n)&&(i||(i=[])).push(e),e=e.parentNode,e;){var r=e.$c;if(r&&i)for(var o=0,a=i.length;o<a;o++){var s=i[o],l=r[s.getAttribute(n)];if("function"==typeof l){if(l.call(r,t,s.$c||s)===!1)return void(t.isPropagationStopped=!0);if(t.isPropagationStopped)return}}}}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=t.elementIs;if(!e)throw new TypeError('Static property "elementIs" is required');if(c.hasOwn.call(t,"props")){var n=t.props;if(n&&(n.content||n.context))throw new TypeError('No need to declare property "'+(n.content?"content":"context")+'"');t.elementAttributes=n}var i=Object.getPrototypeOf(t.prototype).constructor;t.template!==i.template&&t.template&&d.push.apply(t._markupBlockNames=[e],i._markupBlockNames||[]),t._assetClassNames=Object.create(i._assetClassNames||null);var r=t.elementExtends,o=r?s.default[r]||window["HTML"+(r.charAt(0).toUpperCase()+r.slice(1))+"Element"]:HTMLElement,a=function(t){return o.call(this,t)},l=a.prototype=Object.create(o.prototype);return Object.defineProperty(a,"observedAttributes",{configurable:!0,enumerable:!0,get:function(){var e=t.elementAttributes;return e?Object.keys(e).map(function(t){return(0,h.default)(t)}):[]}}),p(l,u.default),Object.defineProperty(l,"constructor",{configurable:!0,writable:!0,value:a}),l._rioniteComponentConstructor=t,s.default[e]=customElements.define(e,a,r?{extends:r}:null),t}e.__esModule=!0,e.default=r;var o=n(0),a=n(27),s=i(a),l=n(35),u=i(l),c=n(3),d=n(2),f=n(11),h=i(f),p=o.Utils.mixin},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){for(var n=e;t.classList.add(n.elementIs),n=Object.getPrototypeOf(n.prototype).constructor,n!=a.default;);}e.__esModule=!0,e.default=r;var o=n(1),a=i(o)},function(t,e,n){t.exports=n(23)}])});