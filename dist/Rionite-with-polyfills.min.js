!function(t,e,n,r){"use strict";function i(){var t=L.splice(0,L.length);for(Gt=0;t.length;)t.shift().call(null,t.shift())}function o(t,e){for(var n=0,r=t.length;n<r;n++)g(t[n],e)}function a(t){for(var e,n=0,r=t.length;n<r;n++)e=t[n],O(e,nt[l(e)])}function s(t){return function(e){jt(e)&&(g(e,t),o(e.querySelectorAll(rt),t))}}function l(t){var e=Ft.call(t,"is"),n=t.nodeName.toUpperCase(),r=ot.call(et,e?Q+e.toUpperCase():X+n);return e&&-1<r&&!c(n,e)?-1:r}function c(t,e){return-1<rt.indexOf(t+'[is="'+e+'"]')}function u(t){var e=t.currentTarget,n=t.attrChange,r=t.attrName,i=t.target,o=t[G]||2,a=t[z]||3;!Jt||i&&i!==e||!e[P]||"style"===r||t.prevValue===t.newValue&&(""!==t.newValue||n!==o&&n!==a)||e[P](r,n===o?null:t.prevValue,n===a?null:t.newValue)}function h(t){var e=s(t);return function(t){L.push(e,t.target),Gt&&clearTimeout(Gt),Gt=setTimeout(i,1)}}function d(t){Kt&&(Kt=!1,t.currentTarget.removeEventListener(J,d)),o((t.target||e).querySelectorAll(rt),t.detail===F?F:k),St&&m()}function f(t,e){var n=this;Vt.call(n,t,e),C.call(n,{target:n})}function p(t,e){xt(t,e),x?x.observe(t,qt):(zt&&(t.setAttribute=f,t[I]=A(t),t[j](Z,C)),t[j](K,u)),t[q]&&Jt&&(t.created=!0,t[q](),t.created=!1)}function m(){for(var t,e=0,n=kt.length;e<n;e++)t=kt[e],it.contains(t)||(n--,kt.splice(e--,1),g(t,F))}function v(t){throw new Error("A "+t+" type is already registered")}function g(t,e){var n,r=l(t);-1<r&&(N(t,nt[r]),r=0,e!==k||t[k]?e!==F||t[F]||(t[k]=!1,t[F]=!0,r=1):(t[F]=!1,t[k]=!0,r=1,St&&ot.call(kt,t)<0&&kt.push(t)),r&&(n=t[e+D])&&n.call(t))}function b(){}function E(t,n,i){var o=i&&i[R]||"",a=n.prototype,s=At(a),l=n.observedAttributes||ut,c={prototype:s};It(s,q,{value:function(){if(Mt)Mt=!1;else if(!this[gt]){this[gt]=!0,new n(this),a[q]&&a[q].call(this);var t=_t[Ct.get(n)];(!Et||t.create.length>1)&&w(this)}}}),It(s,P,{value:function(t){-1<ot.call(l,t)&&a[P].apply(this,arguments)}}),a[B]&&It(s,V,{value:a[B]}),a[U]&&It(s,$,{value:a[U]}),o&&(c[R]=o),e[r](t,c),t=t.toUpperCase(),_t[t]={constructor:n,create:o?[o,Ht(t)]:[t]},Ct.set(n,t),M(t),Lt[t].r()}function T(t){var e=_t[t.toUpperCase()];return e&&e.constructor}function y(t){return"string"==typeof t?t:t&&t.is||""}function w(t){for(var e,n=t[P],r=n?t.attributes:ut,i=r.length;i--;)e=r[i],n.call(t,e.name||e.nodeName,null,e.value||e.nodeValue)}function M(t){return t=t.toUpperCase(),t in Lt||(Lt[t]={},Lt[t].p=new wt(function(e){Lt[t].r=e})),Lt[t].p}function _(){bt&&delete t.customElements,ct(t,"customElements",{configurable:!0,value:new b}),ct(t,"CustomElementRegistry",{configurable:!0,value:b});for(var n=function(n){var r=t[n];if(r){t[n]=function(t){var n,i;return t||(t=this),t[gt]||(Mt=!0,n=_t[Ct.get(t.constructor)],i=Et&&1===n.create.length,t=i?Reflect.construct(r,ut,n.constructor):e.createElement.apply(e,n.create),t[gt]=!0,Mt=!1,i||w(t)),t},t[n].prototype=r.prototype;try{r.prototype.constructor=t[n]}catch(e){vt=!0,ct(r,gt,{value:t[n]})}}},r=S.get(/^HTML/),i=r.length;i--;n(r[i]));e.createElement=function(t,e){var n=y(e);return n?Ut.call(this,t,Ht(n)):Ut.call(this,t)}}var L,C,H,A,x,N,O,S=function(t){var e,r,i,o,a=/^[A-Z]+[a-z]/,s=function(t){var e,n=[];for(e in c)t.test(e)&&n.push(e);return n},l=function(t,e){e=e.toLowerCase(),e in c||(c[t]=(c[t]||[]).concat(e),c[e]=c[e.toUpperCase()]=t)},c=(n.create||n)(null),u={};for(r in t)for(o in t[r])for(i=t[r][o],c[o]=i,e=0;e<i.length;e++)c[i[e].toLowerCase()]=c[i[e].toUpperCase()]=o;return u.get=function(t){return"string"==typeof t?c[t]||(a.test(t)?[]:""):s(t)},u.set=function(t,e){return a.test(t)?l(t,e):l(e,t),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}}),I="__"+r+(1e5*Math.random()>>0),j="addEventListener",k="attached",D="Callback",F="detached",R="extends",P="attributeChanged"+D,V=k+D,B="connected"+D,U="disconnected"+D,q="created"+D,$=F+D,G="ADDITION",W="MODIFICATION",z="REMOVAL",K="DOMAttrModified",J="DOMContentLoaded",Z="DOMSubtreeModified",X="<",Q="=",Y=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,tt=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],et=[],nt=[],rt="",it=e.documentElement,ot=et.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},at=n.prototype,st=at.hasOwnProperty,lt=at.isPrototypeOf,ct=n.defineProperty,ut=[],ht=n.getOwnPropertyDescriptor,dt=n.getOwnPropertyNames,ft=n.getPrototypeOf,pt=n.setPrototypeOf,mt=!!n.__proto__,vt=!1,gt="__dreCEv1",bt=t.customElements,Et=!!(bt&&bt.define&&bt.get&&bt.whenDefined),Tt=n.create||n,yt=t.Map||function(){var t,e=[],n=[];return{get:function(t){return n[ot.call(e,t)]},set:function(r,i){t=ot.call(e,r),t<0?n[e.push(r)-1]=i:n[t]=i}}},wt=t.Promise||function(t){function e(t){for(r=!0;n.length;)n.shift()(t)}var n=[],r=!1,i={catch:function(){return i},then:function(t){return n.push(t),r&&setTimeout(e,1),i}};return t(e),i},Mt=!1,_t=Tt(null),Lt=Tt(null),Ct=new yt,Ht=String,At=n.create||function t(e){return e?(t.prototype=e,new t):this},xt=pt||(mt?function(t,e){return t.__proto__=e,t}:dt&&ht?function(){function t(t,e){for(var n,r=dt(e),i=0,o=r.length;i<o;i++)n=r[i],st.call(t,n)||ct(t,n,ht(e,n))}return function(e,n){do t(e,n);while((n=ft(n))&&!lt.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),Nt=t.MutationObserver||t.WebKitMutationObserver,Ot=(t.HTMLElement||t.Element||t.Node).prototype,St=!lt.call(Ot,it),It=St?function(t,e,n){return t[e]=n.value,t}:ct,jt=St?function(t){return 1===t.nodeType}:function(t){return lt.call(Ot,t)},kt=St&&[],Dt=Ot.dispatchEvent,Ft=Ot.getAttribute,Rt=Ot.hasAttribute,Pt=Ot.removeAttribute,Vt=Ot.setAttribute,Bt=e.createElement,Ut=Bt,qt=Nt&&{attributes:!0,characterData:!0,attributeOldValue:!0},$t=Nt||function(t){zt=!1,it.removeEventListener(K,$t)},Gt=0,Wt=!1,zt=!0,Kt=!0,Jt=!0;r in e||(pt||mt?(N=function(t,e){lt.call(e,t)||p(t,e)},O=p):(N=function(t,e){t[I]||(t[I]=n(!0),p(t,e))},O=N),St?(zt=!1,function(){var t=ht(Ot,j),e=t.value,n=function(t){var e=new CustomEvent(K,{bubbles:!0});e.attrName=t,e.prevValue=Ft.call(this,t),e.newValue=null,e[z]=e.attrChange=2,Pt.call(this,t),Dt.call(this,e)},r=function(t,e){var n=Rt.call(this,t),r=n&&Ft.call(this,t),i=new CustomEvent(K,{bubbles:!0});Vt.call(this,t,e),i.attrName=t,i.prevValue=n?r:null,i.newValue=e,n?i[W]=i.attrChange=1:i[G]=i.attrChange=0,Dt.call(this,i)},i=function(t){var e,n=t.currentTarget,r=n[I],i=t.propertyName;r.hasOwnProperty(i)&&(r=r[i],e=new CustomEvent(K,{bubbles:!0}),e.attrName=r.name,e.prevValue=r.value||null,e.newValue=r.value=n[i]||null,null==e.prevValue?e[G]=e.attrChange=0:e[W]=e.attrChange=1,Dt.call(n,e))};t.value=function(t,o,a){t===K&&this[P]&&this.setAttribute!==r&&(this[I]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,e.call(this,"propertychange",i)),e.call(this,t,o,a)},ct(Ot,j,t)}()):Nt||(it[j](K,$t),it.setAttribute(I,1),it.removeAttribute(I),zt&&(C=function(t){var e,n,r,i=this;if(i===t.target){e=i[I],i[I]=n=A(i);for(r in n){if(!(r in e))return H(0,i,r,e[r],n[r],G);if(n[r]!==e[r])return H(1,i,r,e[r],n[r],W)}for(r in e)if(!(r in n))return H(2,i,r,e[r],n[r],z)}},H=function(t,e,n,r,i,o){var a={attrChange:t,currentTarget:e,attrName:n,prevValue:r,newValue:i};a[o]=t,u(a)},A=function(t){for(var e,n,r={},i=t.attributes,o=0,a=i.length;o<a;o++)e=i[o],n=e.name,"setAttribute"!==n&&(r[n]=e.value);return r})),e[r]=function(t,n){if(r=t.toUpperCase(),Wt||(Wt=!0,Nt?(x=function(t,e){function n(t,e){for(var n=0,r=t.length;n<r;e(t[n++]));}return new Nt(function(r){for(var i,o,a,s=0,l=r.length;s<l;s++)i=r[s],"childList"===i.type?(n(i.addedNodes,t),n(i.removedNodes,e)):(o=i.target,Jt&&o[P]&&"style"!==i.attributeName&&(a=Ft.call(o,i.attributeName),a!==i.oldValue&&o[P](i.attributeName,i.oldValue,a)))})}(s(k),s(F)),x.observe(e,{childList:!0,subtree:!0})):(L=[],e[j]("DOMNodeInserted",h(k)),e[j]("DOMNodeRemoved",h(F))),e[j](J,d),e[j]("readystatechange",d),[Ot,DocumentFragment.prototype].forEach(function(t){var e=t.cloneNode;t.cloneNode=function(t){var n,r=e.call(this,!!t);return 11!==r.nodeType&&(n=l(r),-1<n&&O(r,nt[n])),t&&a(r.querySelectorAll(rt)),r}})),-2<ot.call(et,Q+r)+ot.call(et,X+r)&&v(t),!Y.test(r)||-1<ot.call(tt,r))throw new Error("The type "+t+" is invalid");var r,i,c=function(){return f?e.createElement(p,r):e.createElement(p)},u=n||at,f=st.call(u,R),p=f?n[R].toUpperCase():r;return f&&-1<ot.call(et,X+p)&&v(p),i=et.push((f?Q:X)+r)-1,rt=rt.concat(rt.length?",":"",f?p+'[is="'+t.toLowerCase()+'"]':p),c.prototype=nt[i]=st.call(u,"prototype")?u.prototype:At(Ot),o(e.querySelectorAll(rt),k),c},e.createElement=Ut=function(t,n){var r=y(n),i=r?Bt.call(e,t,Ht(r)):Bt.call(e,t),o=""+t,a=ot.call(et,(r?Q:X)+(r||o).toUpperCase()),s=-1<a;return r&&(i.setAttribute("is",r=r.toLowerCase()),s&&(s=c(o.toUpperCase(),r))),Jt=!e.createElement.innerHTMLHelper,s&&O(i,nt[a]),i}),b.prototype={constructor:b,define:Et?function(t,e,n){n?E(t,e,n):(bt.define(t,e),t=t.toUpperCase(),_t[t]={constructor:e,create:[t]},Ct.set(e,t))}:E,get:Et?function(t){return bt.get(t)||T(t)}:T,whenDefined:Et?function(t){return wt.race([bt.whenDefined(t),M(t)])}:M},bt||_();try{!function(t,n,r){if(n[R]="a",t.prototype=HTMLAnchorElement.prototype,bt.define(r,t,n),e.createElement(r).getAttribute("is")!==r)throw n}(function t(){return Reflect.construct(HTMLAnchorElement,[],t)},{},"document-register-element-a")}catch(t){_()}try{Bt.call(e,"a","a")}catch(t){Ht=function(t){return{is:t}}}}(window,document,Object,"registerElement"),function(t){if(!("content"in t.createElement("template"))){var e=t.createElement("style");e.type="text/css",e.textContent="template { display: none !important; }",t.getElementsByTagName("head")[0].appendChild(e),Object.defineProperty(HTMLElement.prototype,"content",{configurable:!0,enumerable:!0,get:function(){if(this.__contentische__)return this.__contentische__;if("TEMPLATE"==this.tagName){for(var e,n=this.__contentische__=t.createDocumentFragment();e=this.firstChild;)n.appendChild(e);return n}}})}}(document),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("cellx")):"function"==typeof define&&define.amd?define(["cellx"],e):t.Rionite=t.rionite=e(t.cellx)}(this,function(t){"use strict";function e(t){return R.test(t)?t.replace(R,function(t){return P[t]}):t}function n(t){return V.test(t)?t.replace(V,function(t){return B[t]}):t}function r(t){return"[object RegExp]"==$.call(t)}function i(t){return K[t]||(K[t]=t.replace(z,function(t,e){return e.toUpperCase()}))}function o(t){return Q[t]||(Q[t]=t.replace(J,function(t,e,n){return"-"+e.toLowerCase()+n}).replace(Z,function(t,e){return"-"+e.toLowerCase()}).replace(X,""))}function a(){var e=it;it=null;for(var n=0,r=e.length;n<r;n++){var i=e[n];try{i.callback.call(i.context)}catch(e){t.ErrorLogger.log(e)}}}function s(t,e){it?it.push({callback:t,context:e}):(it=[{callback:t,context:e}],setTimeout(a,1))}function l(t){var e=t.elementIs;if(!e)throw new TypeError('Static property "elementIs" is required');var n=void 0;ct.forEach(function(e){q.call(t,e)||Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n||(n=Object.getPrototypeOf(t.prototype).constructor),e))});var r=t.elementExtends,i=r?rt[r]||window["HTML"+(r.charAt(0).toUpperCase()+r.slice(1))+"Element"]:HTMLElement,a=function(t){return i.call(this,t),t},s=a.prototype=Object.create(i.prototype);return Object.defineProperty(a,"observedAttributes",{configurable:!0,enumerable:!0,get:function(){var e=t.elementAttributes;return e?Object.keys(e).map(function(t){return o(t)}):[]}}),lt(s,st),Object.defineProperty(s,"constructor",{configurable:!0,writable:!0,value:a}),s._rioniteComponentConstructor=t,rt[e]=customElements.define(e,a,r?{extends:r}:null),t}function c(t,e){var n=e.arguments;return"(this['"+e.name+"'] || formatters['"+e.name+"']).call(this, "+t+(n&&n.value.length?", "+n.raw.slice(1,-1):"")+")"}function u(t){var e=t.raw;if(Tt[e])return Tt[e];var n=t.keypath.value.split("?"),r=t.formatters,i=n.length;if(1==i)return r.length?Tt[e]={value:r.reduce(c,"this."+n[0]),usesFormatters:!0,usesTempVariable:!1}:Tt[e]={value:"this."+n[0],usesFormatters:!1,usesTempVariable:!1};for(var o=i-2,a=Array(o);o;)a[--o]=" && (temp = temp"+n[o+1]+")";return r.length?Tt[e]={value:"(temp = this."+n[0]+")"+a.join("")+" && "+r.reduce(c,"temp"+n[i-1]),usesFormatters:!0,usesTempVariable:!0}:Tt[e]={value:"(temp = this."+n[0]+")"+a.join("")+" && temp"+n[i-1],usesFormatters:!1,usesTempVariable:!0}}function h(t){var e=d.localeSettings=t.localeSettings;_t=t.texts,Lt=Function("n","return "+e.plural+";")}function d(t,e,n,r){var i=void 0;q.call(_t,t)&&q.call(_t[t],e)?(i=_t[t][e],n&&(i=i[Lt(r[0])])):i=e;var o=Object.create(null);r.forEach(function(t,e){o[e+1]=t}),n&&(o.n=r[0]);var a=[];i=i.split(Mt);for(var s=0,l=i.length;s<l;)s%3?(a.push(i[s+1]?i[s+1].split("|")[Lt(o[i[s]])]:o[i[s]]),s+=2):(a.push(i[s]),s++);return a.join("")}function f(t){return d("",t,!1,yt.call(arguments,1))}function p(t,e){return d(e,t,!1,yt.call(arguments,1))}function m(t){return d("",t,!0,yt.call(arguments,1))}function v(t,e){return d(e,t,!0,yt.call(arguments,1))}function g(t){var e=t.raw;if(Ht[e])return Ht[e];var n=u(t),r=(n.usesTempVariable?"var temp; ":"")+"return "+n.value+";";if(n.usesFormatters){var i=function(){var t=Function("formatters",r);return{v:Ht[e]=function(){return t.call(this,Ct)}}}();if("object"===("undefined"==typeof i?"undefined":j(i)))return i.v}return Ht[e]=Function(r)}function b(t){return At.test(t)?t.replace(At,function(t){return xt[t]}):t}function E(t,e){if(Nt[e])return Nt[e];if(1==t.length){var n=t[0];if(n.type==ut.BINDING)return Nt[e]=g(n)}for(var r=!1,i=!1,o=[],a=0,s=t.length;a<s;a++){var l=t[a];if(l.type==ut.TEXT)o.push("'"+b(l.value)+"'");else{var c=u(l);!r&&c.usesFormatters&&(r=!0),!i&&c.usesTempVariable&&(i=!0),o.push(c.value)}}if(o=(i?"var temp; ":"")+"return ["+o.join(", ")+"].join('');",r){var h=function(){var t=Function("formatters",o);return{v:Nt[e]=function(){return t.call(this,Ct)}}}();if("object"===("undefined"==typeof h?"undefined":j(h)))return h.v}return Nt[e]=Function(o)}function T(t,e,n){n===!1||null==n?t.removeAttribute(e):t.setAttribute(e,n===!0?"":n)}function y(e,n,r){function i(e){for(var s=function(e){switch(e.nodeType){case 1:for(var s=e.attributes,l=s.length;l;){var c=s.item(--l),u=c.value;if(Ot.test(u)){var h=new Et(u).parse();(h.length>1||h[0].type==ut.BINDING)&&!function(){var n=c.name,i=new t.Cell(E(h,u),{owner:r,onChange:function(t){T(e,n,t.value)}});T(e,n,i.get()),(o||(o=[])).push(i)}()}}var d=e.$c;d&&(d.ownerComponent=n,d.props.context=r,(a||(a=[])).push(d)),!e.firstChild||d&&null!=d.constructor.template||i(e);break;case 3:var f=e.textContent;if(Ot.test(f)){var p=new Et(f).parse();if(p.length>1||p[0].type==ut.BINDING){var m=new t.Cell(E(p,f),{owner:r,onChange:function(t){e.textContent=t.value}});e.textContent=m.get(),(o||(o=[])).push(m)}}}},l=e.firstChild;l;l=l.nextSibling)s(l)}r||(r=n);var o=null,a=null;return i(e),{bindings:o,childComponents:a}}function w(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.isElementAttached||(r.isElementAttached=!0,r._attachElement())}}function M(t,e){var n=t.assets,r=function(r){":"!=r.charAt(0)&&!function(){var i=void 0;Object.defineProperty(n,r,{configurable:!0,enumerable:!0,get:function(){return i||(i=t.$(e[r].selector||"&__"+o(r)))}})}()};for(var i in e)r(i)}function _(t,e){var n=t.assets;for(var r in e){var i=void 0;if(":component"==r)i=t;else if(":element"==r)i=t.element;else if(i=n[r],!i)continue;var o=e[r];for(var a in o)"on-"==a.slice(0,3)&&a.length>3&&t.listenTo(i,a.slice(3),o[a])}}function L(t){var e=void 0,n=void 0,r=void 0;for(t instanceof Event?(e=t.target,n="rt-"+t.type):(e=t.target.element,n="rt-component-"+t.type);1==e.nodeType&&e.hasAttribute(n)&&(r||(r=[])).push(e),e=e.parentNode,e;){var i=e.$c;if(i&&r)for(var o=0,a=r.length;o<a;o++){var s=r[o],l=i[s.getAttribute(n)];if("function"==typeof l){if(l.call(i,t,s.$c||s)===!1)return void(t.isPropagationStopped=!0);if(t.isPropagationStopped)return}}}}function C(){}function H(){}function A(){}function x(){}function N(){}function O(){}function S(){}function I(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];this.parent=n;var r={js:[]},i=[r],o=this._blocks=Object.create(n?n._blocks:null);t=t.split(qt);for(var a=0,s=t.length;a<s;)if(a%6){var l=t[a];if(l)r.js.push("this."+l+".call(this, data)"),r=o[l]={name:l,js:[]},i.push(r);else if(t[a+1])i.length>1&&(i.pop(),r=i[i.length-1]);else if(t[a+2])n&&i.length>1&&n._blocks[r.name]&&r.js.push("_super.call(this, data)");else{var c=t[a+2];r.js.push(c?"escape(data."+c+")":"data."+t[a+3])}a+=5}else{var u=t[a];u&&r.js.push("'"+b(u)+"'"),a++}Object.keys(o).forEach(function(t){var r=n&&n._blocks[t],i=Function("_super","data","escape","return ["+o[t].js.join(", ")+"].join('');");o[t]=function(t){return i.call(this,r,t,e)}}),this._renderer=n?n._renderer:Function("data","escape","return ["+i[0].js.join(", ")+"].join('');")}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},k=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},D=t.Utils.nextUID,F=t.EventEmitter.extend({constructor:function(){this._disposables={}},listenTo:function(t,e,n,r){var i=this,o=void 0;if(Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection||t.addClass&&t.each){"object"!=("undefined"==typeof e?"undefined":j(e))||Array.isArray(e)?arguments.length<4&&(r=this):arguments.length<3&&(n=this),o=[];for(var a=0,s=t.length;a<s;a++)o.push(this.listenTo(t[a],e,n,r))}else if("object"==("undefined"==typeof e?"undefined":j(e)))if(o=[],Array.isArray(e)){arguments.length<4&&(r=this);for(var l=e,c=0,u=l.length;c<u;c++)o.push(this.listenTo(t,l[c],n,r))}else{r=arguments.length<3?this:n;var h=e;for(var d in h)o.push(this.listenTo(t,d,h[d],r))}else{if(arguments.length<4&&(r=this),"object"!=("undefined"==typeof n?"undefined":j(n)))return this._listenTo(t,e,n,r);var f=n;if(o=[],Array.isArray(f))for(var p=0,m=f.length;p<m;p++)o.push(this.listenTo(t,e,f[p],r));else for(var v in f)o.push(this.listenTo(t[v]("unwrap",0),e,f[v],r))}var g=D(),b=function(){for(var t=o.length;t;)o[--t].stop();delete i._disposables[g]},E=this._disposables[g]={stop:b,dispose:b};return E},_listenTo:function(e,n,r,i){var o=this;if(e instanceof t.EventEmitter)e.on(n,r,i);else{if(!e.addEventListener)throw new TypeError("Unable to add a listener");e!==i&&(r=r.bind(i)),e.addEventListener(n,r)}var a=D(),s=function(){o._disposables[a]&&(e instanceof t.EventEmitter?e.off(n,r,i):e.removeEventListener(n,r),delete o._disposables[a])},l=this._disposables[a]={stop:s,dispose:s};return l},setTimeout:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){var n=this,r=D(),i=setTimeout(function(){delete n._disposables[r],t.call(n)},e),o=function(){n._disposables[r]&&(clearTimeout(i),delete n._disposables[r])},a=this._disposables[r]={clear:o,dispose:o};return a}),setInterval:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){var n=this,r=D(),i=setInterval(function(){t.call(n)},e),o=function(){n._disposables[r]&&(clearInterval(i),delete n._disposables[r])},a=this._disposables[r]={clear:o,dispose:o};return a}),registerCallback:function(t){function e(){if(i._disposables[r])return delete i._disposables[r],t.apply(i,arguments)}var n=this,r=D(),i=this,o=function(){delete n._disposables[r]};return e.cancel=o,e.dispose=o,this._disposables[r]=e,e},dispose:function(){var t=this._disposables;for(var e in t)t[e].dispose();return this}}),R=/[&<>"]/g,P=Object.create(null);P["&"]="&amp;",P["<"]="&lt;",P[">"]="&gt;",P['"']="&quot;";var V=/&(?:amp|lt|gt|quot);/g,B=Object.create(null);B["&amp;"]="&",B["&lt;"]="<",B["&gt;"]=">",B["&quot;"]='"';var U,q=Object.prototype.hasOwnProperty,$=Object.prototype.toString,G=t.JS.Map,W=new G([[Boolean,[function(t){return null!==t&&"no"!=t},function(t){return t?"":null}]],["boolean",[function(t,e){return null!==t?"no"!=t:e},function(t,e){return t?"":e?"no":null}]],[Number,[function(t){return null!==t?+t:void 0},function(t){return void 0!==t?String(+t):null}]],["number",[function(t,e){return null!==t?+t:e},function(t){return void 0!==t?String(+t):null}]],[String,[function(t){return null!==t?t:void 0},function(t){return void 0!==t?String(t):null}]],["string",[function(t,e){return null!==t?t:e},function(t){return void 0!==t?String(t):null}]],[Object,[function(t){return null!==t?Object(Function("return "+n(t)+";")()):void 0},function(t){return null!=t?e(r(t)?t.toString():JSON.stringify(t)):null}]],["object",[function(t,e){return null!==t?Object(Function("return "+n(t)+";")()):e},function(t){return null!=t?e(r(t)?t.toString():JSON.stringify(t)):null}]]]),z=/[-_]+([a-z]|$)/g,K=Object.create(null),J=/-?([A-Z])([^A-Z])/g,Z=/-?([A-Z]+)/g,X=/^-/,Q=Object.create(null),Y=t.JS.Map,tt=new Y([["boolean","boolean"],[Boolean,"boolean"],["number","number"],[Number,"number"],["string","string"],[String,"string"]]),et=t.EventEmitter.extend({constructor:function(e){var n=this,r=e.$c,a=r.constructor.elementAttributes,s=function(s){var l=a[s],c="undefined"==typeof l?"undefined":j(l),u=void 0,h=void 0,d=void 0;if("function"==c)c=l,h=d=!1;else if("object"!=c||void 0===l.type&&void 0===l.default)u=l,h=d=!1;else{if(c=l.type,u=l.default,void 0===c)c="undefined"==typeof u?"undefined":j(u);else if(void 0!==u&&(tt.get(c)||"")!=("undefined"==typeof u?"undefined":j(u)))throw new TypeError("Specified type does not match type of defaultValue");h=l.required,d=l.readonly}var f=W.get(c);if(!f)throw new TypeError("Unsupported attribute type");var p=i(s),m=o(s);if(h&&!e.hasAttribute(m))throw new TypeError('Property "'+s+'" is required');var v=n["_"+p]=n["_"+m]=new t.Cell(e.getAttribute(m),{validate:d?function(t,e){if(e&&t!==e[0])throw new TypeError('Property "'+s+'" is readonly')}:null,merge:function(t,e){return e&&t===e[0]?e:[t,f[0](t,u)]},onChange:function(t){r.isReady&&r.elementAttributeChanged(m,t.oldValue[1],t.value[1])}}),g={configurable:!0,enumerable:!0,get:function(){return v.get()[1]},set:d?function(t){if(t!==v.get()[1])throw new TypeError('Property "'+s+'" is readonly')}:function(t){t=f[1](t,u),null===t?e.removeAttribute(m):e.setAttribute(m,t),v.set(t)}};Object.defineProperty(n,p,g),m!=p&&Object.defineProperty(n,m,g)};for(var l in a)s(l)}}),nt=t.Utils.mixin,rt=nt(Object.create(null),{a:window.HTMLAnchorElement,blockquote:window.HTMLQuoteElement,br:window.HTMLBRElement,caption:window.HTMLTableCaptionElement,col:window.HTMLTableColElement,colgroup:window.HTMLTableColElement,datalist:window.HTMLDataListElement,del:window.HTMLModElement,dir:window.HTMLDirectoryElement,dl:window.HTMLDListElement,document:window.HTMLDocument,element:Element,fieldset:window.HTMLFieldSetElement,frameset:window.HTMLFrameSetElement,h1:window.HTMLHeadingElement,h2:window.HTMLHeadingElement,h3:window.HTMLHeadingElement,h4:window.HTMLHeadingElement,h5:window.HTMLHeadingElement,h6:window.HTMLHeadingElement,hr:window.HTMLHRElement,iframe:window.HTMLIFrameElement,img:window.HTMLImageElement,ins:window.HTMLModElement,li:window.HTMLLIElement,menuitem:window.HTMLMenuItemElement,ol:window.HTMLOListElement,optgroup:window.HTMLOptGroupElement,p:window.HTMLParagraphElement,q:window.HTMLQuoteElement,tbody:window.HTMLTableSectionElement,td:window.HTMLTableCellElement,template:window.HTMLTemplateElement||HTMLElement,textarea:window.HTMLTextAreaElement,tfoot:window.HTMLTableSectionElement,th:window.HTMLTableCellElement,thead:window.HTMLTableSectionElement,tr:window.HTMLTableRowElement,ul:window.HTMLUListElement,vhgroupv:window.HTMLUnknownElement,vkeygen:window.HTMLUnknownElement}),it=void 0,ot=t.JS.Symbol,at=ot("attached"),st=(U={rioniteComponent:null,get $c(){return new this._rioniteComponentConstructor(this)}},k(U,at,!1),k(U,"connectedCallback",function(){this[at]=!0;var t=this.rioniteComponent;t?t.isElementAttached?null===t._parentComponent&&(t._parentComponent=void 0,t.elementMoved()):(t._parentComponent=void 0,t.isElementAttached=!0,t._attachElement()):s(function(){if(this[at]){var t=this.$c;t._parentComponent=void 0,t.parentComponent||(t.isElementAttached=!0,t._attachElement())}},this)}),k(U,"disconnectedCallback",function(){this[at]=!1;var t=this.rioniteComponent;t&&t.isElementAttached&&(t._parentComponent=null,s(function(){null===t._parentComponent&&t.isElementAttached&&(t.isElementAttached=!1,t._detachElement())}))}),k(U,"attributeChangedCallback",function(t,e,n){var r=this.rioniteComponent;if(r&&r.isReady){var i=r.elementAttributes,o="_"+t;q.call(i,o)&&i[o].set(n)}}),U),lt=t.Utils.mixin,ct=["elementExtends","elementAttributes","props","i18n","template","assets"],ut={TEXT:0,BINDING:1,BINDING_KEYPATH:2,BINDING_FORMATTER:3,BINDING_FORMATTER_ARGUMENTS:4},ht="[$_a-zA-Z][$\\w]*",dt="(?:"+ht+"|\\[\\d+\\])(?:\\??(?:\\."+ht+"|\\[\\d+\\]))*",ft=RegExp(ht+"|","g"),pt=RegExp(dt+"|","g"),mt=/false|true|/g,vt=/(?:[+-]\s*)?(?:0b[01]+|0[0-7]+|0x[0-9a-fA-F]+|(?:(?:0|[1-9]\d*)(?:\.\d+)?|\.\d+)(?:[eE][+-]?\d+)?|Infinity|NaN)|/g,gt=/null|undefined|void 0|/g,bt={},Et=t.Utils.createClass({constructor:function(t){this.content=t},parse:function(){this.at=0;for(var t,e=this.result=[];(t=this.content.indexOf("{",this.at))>-1;){this.pushText(this.content.slice(this.at,t)),this.at=t,this.chr=this.content.charAt(t);var n=this.readBinding();n?e.push(n):(this.pushText(this.chr),this.next("{"))}return this.pushText(this.content.slice(this.at)),e},pushText:function(t){if(t.length){var e=this.result,n=e.length;n&&e[n-1].type==ut.TEXT?e[n-1].value=e[n-1].raw+=t:e.push({type:ut.TEXT,at:this.at,raw:t,value:t})}},readBinding:function(){var t=this.at;this.next("{"),this.skipWhitespaces();var e=this.readBindingKeypath();if(e){for(var n,r=[];"|"==this.skipWhitespaces()&&(n=this.readFormatter());)r.push(n);if("}"==this.chr)return this.next(),{type:ut.BINDING,at:t,raw:this.content.slice(t,this.at),keypath:e,formatters:r}}return this.at=t,this.chr=this.content.charAt(t),null},readBindingKeypath:function(){pt.lastIndex=this.at;var t=pt.exec(this.content)[0];if(t){var e=this.at;return this.chr=this.content.charAt(this.at+=t.length),{type:ut.BINDING_KEYPATH,at:e,raw:this.content.slice(e,this.at),value:t}}return null},readFormatter:function(){var t=this.at;this.next("|"),this.skipWhitespaces(),ft.lastIndex=this.at;var e=ft.exec(this.content)[0];if(e){var n="("==(this.chr=this.content.charAt(this.at+=e.length))?this.readFormatterArguments():null;return{type:ut.BINDING_FORMATTER,at:t,raw:this.content.slice(t,this.at),name:e,arguments:n}}return this.at=t,this.chr=this.content.charAt(t),null},readFormatterArguments:function(){var t=this.at,e=[];if(this.next("("),")"!=this.skipWhitespaces())for(;;){var n=this.readValueOrValueKeypath();if(n!==bt&&(","==this.skipWhitespaces()||")"==this.chr)){if(e.push(n),","==this.chr){this.next(),this.skipWhitespaces();continue}break}return this.at=t,this.chr=this.content.charAt(t),null}return this.next(),{type:ut.BINDING_FORMATTER_ARGUMENTS,at:t,raw:this.content.slice(t,this.at),value:e}},readValueOrValueKeypath:function(){var t=this.readValue();return t===bt?this.readValueKeypath():t},readValue:function(){switch(this.chr){case"{":return this.readObject();case"[":return this.readArray();case"'":case'"':return this.readString()}for(var t=["readBoolean","readNumber","readVacuum"],e=0,n=t.length;e<n;e++){var r=this[t[e]]();if(r!==bt)return r}return bt},readObject:function(){var t=this.at;for(this.next("{");"}"!=this.skipWhitespaces();){if(("'"==this.chr||'"'==this.chr?this.readString()!==bt:null!==this.readObjectKey())&&":"==this.skipWhitespaces()&&(this.next(),this.skipWhitespaces(),this.readValueOrValueKeypath()!==bt)){if(","==this.skipWhitespaces()){this.next();continue}if("}"==this.chr)break}return this.at=t,this.chr=this.content.charAt(t),bt}return this.next(),this.content.slice(t,this.at)},readObjectKey:function(){ft.lastIndex=this.at;var t=ft.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),t):null},readArray:function(){var t=this.at;for(this.next("[");"]"!=this.skipWhitespaces();)if(","==this.chr)this.next();else if(this.readValueOrValueKeypath()===bt)return this.at=t,this.chr=this.content.charAt(t),bt;return this.next(),this.content.slice(t,this.at)},readBoolean:function(){mt.lastIndex=this.at;var t=mt.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),t):bt},readNumber:function(){vt.lastIndex=this.at;var t=vt.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),t):bt},readString:function(){if("'"!=this.chr&&'"'!=this.chr)throw{name:"SyntaxError",message:'Expected "\'" or \'"\' instead of "'+this.chr+'"',at:this.at,content:this.content};for(var t=this.at,e=this.chr,n="";this.next();){if(this.chr==e)return this.next(),e+n+e;if("\\"==this.chr)n+=this.chr+this.next();else{if("\r"==this.chr||"\n"==this.chr)break;n+=this.chr}}return this.at=t,this.chr=this.content.charAt(t),bt},readVacuum:function(){gt.lastIndex=this.at;
var t=gt.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),t):bt},readValueKeypath:function(){if("this"!=this.content.slice(this.at,this.at+4))return bt;var t=this.at;for(this.chr=this.content.charAt(this.at+=4);;)if("."==this.chr){this.next(),ft.lastIndex=this.at;var e=ft.exec(this.content)[0];if(!e)break;this.chr=this.content.charAt(this.at+=e.length)}else{if("["!=this.chr)return this.content.slice(t,this.at);if(this.next(),("'"==this.chr||'"'==this.chr?this.readString()===bt:this.readNumber()===bt&&this.readValueKeypath()===bt)||"]"!=this.chr)break;this.next()}return this.at=t,this.chr=this.content.charAt(t),bt},next:function(t){if(t&&t!=this.chr)throw{name:"SyntaxError",message:'Expected "'+t+'" instead of "'+this.chr+'"',at:this.at,content:this.content};return this.chr=this.content.charAt(++this.at)},skipWhitespaces:function(){for(var t=this.chr;t&&t<=" ";)t=this.next();return t}}),Tt=Object.create(null),yt=Array.prototype.slice,wt=Array.prototype.map,Mt=/\{([1-9]\d*|n)(?::((?:[^|]*\|)+?[^}]*))?\}/,_t=void 0,Lt=void 0;d.configure=h,d.t=f,d.pt=p,d.nt=m,d.npt=v,h({localeSettings:{code:"ru",plural:"(n%100) >= 5 && (n%100) <= 20 ? 2 : (n%10) == 1 ? 0 : (n%10) >= 2 && (n%10) <= 4 ? 1 : 2"},texts:{}});var Ct=Object.create(null);Ct.t=d.t,Ct.pt=d.pt,Ct.nt=d.nt,Ct.npt=d.npt;var Ht=Object.create(null),At=/[\\'\r\n]/g,xt=Object.create(null);xt["\\"]="\\\\",xt["'"]="\\'",xt["\r"]="\\r",xt["\n"]="\\n";var Nt=Object.create(null),Ot=/{[^}]+}/,St=["click","dblclick","mousedown","mouseup","input","change","submit","focusin","focusout"],It=document.createRange(),jt=void 0;It.createContextualFragment?!function(){var t=!1;jt=function(e){return t||(It.selectNode(document.body),t=!0),It.createContextualFragment(e)}}():jt=function(t){var e=document.createElement("div"),n=document.createDocumentFragment();e.innerHTML=t;for(var r;r=e.firstChild;)n.appendChild(r);return n};var kt=jt,Dt=t.JS.Symbol,Ft=t.Utils.createClass,Rt=Dt("rawContent"),Pt=Dt("blockNameInMarkup"),Vt=Dt("silent"),Bt=t.EventEmitter.extend({Implements:[F],Static:{register:l,extend:function(t,e){e.Extends=this;var n=e.Static||(e.Static={});n.elementIs=t;var r=n.props;if(r){if(r.content||r.context)throw new TypeError('It is not necessary to declare property "'+(r.content?"content":"context")+'"');n.elementAttributes=r}else n.elementAttributes&&(n.props=n.elementAttributes);return l(Ft(e))},elementIs:void 0,elementExtends:void 0,elementAttributes:null,props:null,i18n:null,template:null,assets:null},ownerComponent:null,_parentComponent:null,get parentComponent(){if(void 0!==this._parentComponent)return this._parentComponent;for(var t;t=(t||this.element).parentNode;)if(t.$c)return this._parentComponent=t.$c;return this._parentComponent=null},element:null,get elementAttributes(){var t=new et(this.element);return Object.defineProperty(this,"elementAttributes",{configurable:!0,enumerable:!0,writable:!0,value:t}),t},get props(){var t=Object.create(this.elementAttributes);return t.content=null,t.context=null,Object.defineProperty(this,"props",{configurable:!0,enumerable:!0,writable:!0,value:t}),t},_bindings:null,assets:null,isElementAttached:!1,initialized:!1,isReady:!1,constructor:function(e,n){if(t.EventEmitter.call(this),F.call(this),null==e)e=document.createElement(this.constructor.elementIs);else if("string"==typeof e){var r=this.constructor.elementIs,o=e;e=document.createElement(r),e.innerHTML=o;var a=e.firstChild;a==e.lastChild&&1==a.nodeType&&a.tagName.toLowerCase()==r&&(e=a)}if(this.element=e,e.rioniteComponent=this,Object.defineProperty(e,"$c",{value:this}),n){var s=this.props;for(var l in n)s[i(l)]=n[l]}this.created()},_handleEvent:function(e){t.EventEmitter.prototype._handleEvent.call(this,e);var n=this[Vt];if(void 0===n&&(n=this[Vt]=this.element.hasAttribute("rt-silent")),!n&&e.bubbles!==!1&&!e.isPropagationStopped){var r=this.parentComponent;r?r._handleEvent(e):L(e)}},_attachElement:function(){this.initialized||(this.initialize(),this.initialized=!0);var t=this.constructor,e=t[Rt],n=this.element;if(this.isReady){if(e)for(var r;r=n.firstChild;)n.removeChild(r)}else{for(var o=t;n.classList.add(o.elementIs),o=Object.getPrototypeOf(o.prototype).constructor,o!=Bt;);var a=this.elementAttributes,s=t.elementAttributes;for(var l in s)if("function"!=typeof s[l]){var c=i(l);a[c]=a[c]}if(null!=t.template){if(!e){var u=t.template;e=t[Rt]=kt("string"==typeof u?u:u.render(t))}for(var h,d=this.props.content=document.createDocumentFragment();h=n.firstChild;)d.appendChild(h)}}if(e){var f=e.cloneNode(!0),p=y(f,this),m=p.bindings,v=p.childComponents;this._bindings=m,this.element.appendChild(f),v&&w(v),this._initAssets()}this.isReady||(e||this._initAssets(),this.ready(),this.isReady=!0),this.elementAttached()},_detachElement:function(){this.dispose(),this.elementDetached()},_initAssets:function(){this.assets=Object.create(null);var t=this.constructor.assets;t&&(M(this,t),_(this,t))},dispose:function(){this._destroyBindings(),F.prototype.dispose.call(this)},_destroyBindings:function(){var t=this._bindings;if(t){for(var e=t.length;e;)t[--e].off();this._bindings=null}},created:C,initialize:H,ready:A,elementAttached:x,elementDetached:N,elementMoved:O,elementAttributeChanged:S,$:function(t){var e=this.element.querySelector(this._prepareSelector(t));return e&&(e.$c||e)},$$:function(t){return wt.call(this.element.querySelectorAll(this._prepareSelector(t)),function(t){return t.$c||t})},_prepareSelector:function(t){if(t=t.split("&"),1==t.length)return t[0];var e=this.constructor,n=e[Pt];if(!n){var r=e;do r.template&&(n=r.elementIs),r=Object.getPrototypeOf(r.prototype).constructor;while(r!=Bt);n||(n=e.elementIs),e[Pt]=n}return t.join("."+n)}});document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),St.forEach(function(t){document.addEventListener(t,L)})});var Ut="(?:"+ht+"|\\[\\d+\\])(?:(?:\\."+ht+"|\\[\\d+\\]))*",qt=RegExp("{{(?:\\s*(?:"+("block\\s+("+ht+")|(\\/)block|(s)uper\\(\\)|("+Ut+")")+(")\\s*|{\\s*("+Ut+")\\s*}")+")}}");I.prototype.extend=function(t){return new I(t,this)},I.prototype.render=function(t){return this._renderer.call(this._blocks,t||{},e)};var $t=document.createElement("div");$t.innerHTML="<template>1</template>";var Gt=$t.firstChild,Wt=!Gt.firstChild,zt=t.JS.Symbol("templatesFixed"),Kt=Bt.extend("rt-content",{Static:{props:{select:{type:String,readonly:!0},getContext:{type:String,readonly:!0}},template:""},_rawContent:void 0,_attachElement:function(){var t=this.ownerComponent,e=this.element,n=this.props;if(this.isReady)for(var r;r=e.firstChild;)e.removeChild(r);else{for(var i,o=n.content=document.createDocumentFragment();i=e.firstChild;)o.appendChild(i);var a=t.props.content,s=this.elementAttributes.select;if(s){if(!Wt&&!a[zt]){for(var l=a.querySelectorAll("template"),c=l.length;c;)l[--c].content;a[zt]=!0}var u=a.querySelectorAll(s),h=u.length;if(h)for(var d=this._rawContent=document.createDocumentFragment(),f=0;f<h;f++)d.appendChild(u[f].cloneNode(!0));else this._rawContent=o}else this._rawContent=a.firstChild?a:o;this.isReady=!0}var p=this._rawContent.cloneNode(!0),m=n.getContext,v=this._rawContent==n.content?y(p,t,m?t[m](this,n.context):n.context):y(p,t.ownerComponent,m?t[m](this,t.props.context):t.props.context),g=v.bindings,b=v.childComponents;this._bindings=g,e.appendChild(p),b&&w(b)},_detachElement:function(){this._destroyBindings()}}),Jt=t.Utils.nextTick,Zt=Bt.extend("rt-if-then",{Static:{elementExtends:"template",props:{if:{type:String,required:!0,readonly:!0}}},_if:null,_elseMode:!1,_nodes:null,_attachElement:function(){var e=this;this.initialized||!function(){var n=e.props;n.content=document.importNode(e.element.content,!0);var r=new Et("{"+n.if+"}").parse();if(r.length>1||r[0].type!=ut.BINDING)throw new SyntaxError('Invalid value of attribute "if" ('+n.if+")");var i=g(r[0]);e._if=new t.Cell(function(){return!!i.call(this)},{owner:n.context}),e.initialized=!0}(),this._render(!1),this._if.on("change",this._onIfChange,this)},_detachElement:function(){this._destroyBindings(),this._if.off("change",this._onIfChange,this);var t=this._nodes;if(t)for(var e=t.length;e;){var n=t[--e],r=n.parentNode;r&&r.removeChild(n)}},_onIfChange:function(){this._render(!0)},_render:function(t){var e=this;if(this._elseMode?!this._if.get():this._if.get()){var n=this.props.content.cloneNode(!0),r=y(n,this.ownerComponent,this.props.context),i=r.bindings,o=r.childComponents;this._nodes=yt.call(n.childNodes),this._bindings=i,this.element.parentNode.insertBefore(n,this.element.nextSibling),o&&w(o)}else{this._destroyBindings();var a=this._nodes;if(a){for(var s=a.length;s;){var l=a[--s];l.parentNode.removeChild(l)}this._nodes=null}}t&&Jt(function(){e.emit("change")})}}),Xt=Zt.extend("rt-if-else",{Static:{elementExtends:"template"},_elseMode:!0}),Qt=t.JS.Map,Yt=t.Utils.nextTick,te=RegExp("^\\s*("+ht+")\\s+of\\s+(\\S.*)$"),ee='Invalid value of attribute "for"',ne=Bt.extend("rt-repeat",{Static:{elementExtends:"template",props:{for:{type:String,required:!0,readonly:!0},trackBy:{type:String,readonly:!0},strip:{default:!1,readonly:!0}}},_itemName:void 0,_list:null,_itemMap:null,_oldItemMap:null,_trackBy:void 0,_rawItemContent:null,_context:null,_lastNode:null,_attachElement:function(){if(!this.initialized){var e=this.props,n=e.for.match(te);if(!n)throw new SyntaxError(ee+(" ("+e.for+")"));var r=new Et("{"+n[2]+"}").parse();if(r.length>1||r[0].type!=ut.BINDING)throw new SyntaxError(ee+(" ("+e.for+")"));this._itemName=n[1],this._list=new t.Cell(g(r[0]),{owner:e.context}),this._itemMap=new Qt,this._trackBy=e.trackBy;var i=this._rawItemContent=document.importNode(this.element.content,!0);if(e.strip){var o=i.firstChild,a=i.lastChild;o==a?3==o.nodeType&&(o.textContent=o.textContent.trim()):(3==o.nodeType&&((o.textContent=o.textContent.replace(/^\s+/,""))||i.removeChild(o)),3==a.nodeType&&((a.textContent=a.textContent.replace(/\s+$/,""))||i.removeChild(a)))}this._context=e.context,this.initialized=!0}this._render(!1),this._list.on("change",this._onListChange,this)},_detachElement:function(){this._clearWithItemMap(this._itemMap),this._list.off("change",this._onListChange,this)},_onListChange:function(){this._render(!0)},_render:function(t){var e=this,n=this._oldItemMap=this._itemMap;this._itemMap=new Qt;var r=this._list.get(),i=!1;if(r&&(this._lastNode=this.element,i=r.reduce(function(t,n,r){return e._renderListItem(n,r)||t},i)),n.size)this._clearWithItemMap(n);else if(!i)return;t&&Yt(function(){e.emit("change")})},_renderListItem:function(e,n){var r,i=this._trackBy,o=i?"$index"==i?n:e[i]:e,a=this._oldItemMap.get(o),s=this._itemMap.get(o);if(a){var l=void 0;1==a.length?(l=a[0],this._oldItemMap.delete(o)):l=a.shift(),s?s.push(l):this._itemMap.set(o,[l]),l.item.set(e);var c=l.nodes;if(n==l.index.get())return this._lastNode=c[c.length-1],!1;if(l.index.set(n),1==c.length){var u=c[0];this._lastNode.parentNode.insertBefore(u,this._lastNode.nextSibling),this._lastNode=u}else{for(var h=document.createDocumentFragment(),d=0,f=c.length;d<f;d++)h.appendChild(c[d]);var p=h.lastChild;this._lastNode.parentNode.insertBefore(h,this._lastNode.nextSibling),this._lastNode=p}return!0}e=new t.Cell(e),n=new t.Cell(n);var m=this._rawItemContent.cloneNode(!0),v=Object.create(this._context,(r={},k(r,this._itemName,{get:function(){return e.get()}}),k(r,"$index",{get:function(){return n.get()}}),r)),g=y(m,this.ownerComponent,v),b=g.bindings,E=g.childComponents,T={item:e,index:n,nodes:yt.call(m.childNodes),bindings:b};s?s.push(T):this._itemMap.set(o,[T]);var M=m.lastChild;return this._lastNode.parentNode.insertBefore(m,this._lastNode.nextSibling),this._lastNode=M,E&&w(E),!0},_clearWithItemMap:function(t){t.forEach(this._clearWithItems,this),t.clear()},_clearWithItems:function(t){for(var e=t.length;e;){var n=t[--e],r=n.bindings;if(r)for(var i=r.length;i;)r[--i].off();for(var o=n.nodes,a=o.length;a;){var s=o[--a],l=s.parentNode;l&&l.removeChild(s)}}}}),re={DisposableMixin:F,formatters:Ct,getText:d,ElementAttributes:et,Template:I,Component:Bt,Components:{RtContent:Kt,RtIfThen:Zt,RtIfElse:Xt,RtRepeat:ne},Utils:{camelize:i,hyphenize:o,escapeString:b,escapeHTML:e,unescapeHTML:n,isRegExp:r,defer:s,htmlToFragment:kt}};return re.Rionite=re,re});