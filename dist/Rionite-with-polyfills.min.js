!function(t){"use strict";function e(){var t=w.splice(0,w.length);for(zt=0;t.length;)t.shift().call(null,t.shift())}function n(t,e){for(var n=0,r=t.length;n<r;n++)p(t[n],e)}function r(t){for(var e,n=0,r=t.length;n<r;n++)e=t[n],x(e,rt[o(e)])}function i(t){return function(e){kt(e)&&(p(e,t),n(e.querySelectorAll(it),t))}}function o(t){var e=Bt.call(t,"is"),n=t.nodeName.toUpperCase(),r=at.call(nt,e?Y+e.toUpperCase():Q+n);return e&&-1<r&&!a(n,e)?-1:r}function a(t,e){return-1<it.indexOf(t+'[is="'+e+'"]')}function l(t){var e=t.currentTarget,n=t.attrChange,r=t.attrName,i=t.target,o=t[W]||2,a=t[K]||3;!Xt||i&&i!==e||!e[P]||"style"===r||t.prevValue===t.newValue&&(""!==t.newValue||n!==o&&n!==a)||e[P](r,n===o?null:t.prevValue,n===a?null:t.newValue)}function s(t){var n=i(t);return function(t){w.push(n,t.target),zt&&clearTimeout(zt),zt=setTimeout(e,1)}}function c(t){Jt&&(Jt=!1,t.currentTarget.removeEventListener(J,c)),n((t.target||N).querySelectorAll(it),t.detail===R?R:D),It&&d()}function u(t,e){var n=this;Ut.call(n,t,e),_.call(n,{target:n})}function h(t,e){Nt(t,e),L?L.observe(t,Gt):(Zt&&(t.setAttribute=u,t[j]=M(t),t[k](X,_)),t[k](Z,l)),t[$]&&Xt&&(t.created=!0,t[$](),t.created=!1)}function d(){for(var t,e=0,n=Dt.length;e<n;e++)t=Dt[e],ot.contains(t)||(n--,Dt.splice(e--,1),p(t,R))}function f(t){throw new Error("A "+t+" type is already registered")}function p(t,e){var n,r=o(t);-1<r&&(A(t,rt[r]),r=0,e!==D||t[D]?e!==R||t[R]||(t[D]=!1,t[R]=!0,r=1):(t[R]=!1,t[D]=!0,r=1,It&&at.call(Dt,t)<0&&Dt.push(t)),r&&(n=t[e+F])&&n.call(t))}function m(){}function v(t,e,n){var r=n&&n[B]||"",i=e.prototype,o=xt(i),a=e.observedAttributes||ht,l={prototype:o};jt(o,$,{value:function(){if(Ct)Ct=!1;else if(!this[bt]){this[bt]=!0,new e(this),i[$]&&i[$].call(this);var t=Mt[Ht.get(e)];(!Tt||t.create.length>1)&&E(this)}}}),jt(o,P,{value:function(t){-1<at.call(a,t)&&i[P].apply(this,arguments)}}),i[U]&&jt(o,V,{value:i[U]}),i[q]&&jt(o,G,{value:i[q]}),r&&(l[B]=r),t=t.toUpperCase(),Mt[t]={constructor:e,create:r?[r,At(t)]:[t]},Ht.set(e,t),N[I](t.toLowerCase(),l),T(t),Lt[t].r()}function g(t){var e=Mt[t.toUpperCase()];return e&&e.constructor}function b(t){return"string"==typeof t?t:t&&t.is||""}function E(t){for(var e,n=t[P],r=n?t.attributes:ht,i=r.length;i--;)e=r[i],n.call(t,e.name||e.nodeName,null,e.value||e.nodeValue)}function T(t){return t=t.toUpperCase(),t in Lt||(Lt[t]={},Lt[t].p=new _t(function(e){Lt[t].r=e})),Lt[t].p}function y(){Et&&delete t.customElements,ut(t,"customElements",{configurable:!0,value:new m}),ut(t,"CustomElementRegistry",{configurable:!0,value:m});for(var e=function(e){var n=t[e];if(n){t[e]=function(t){var e,r;return t||(t=this),t[bt]||(Ct=!0,e=Mt[Ht.get(t.constructor)],r=Tt&&1===e.create.length,t=r?Reflect.construct(n,ht,e.constructor):N.createElement.apply(N,e.create),t[bt]=!0,Ct=!1,r||E(t)),t},t[e].prototype=n.prototype;try{n.prototype.constructor=t[e]}catch(r){gt=!0,ut(n,bt,{value:t[e]})}}},n=S.get(/^HTML[A-Z]*[a-z]/),r=n.length;r--;e(n[r]));N.createElement=function(t,e){var n=b(e);return n?$t.call(this,t,At(n)):$t.call(this,t)}}var w,_,C,M,L,H,A,x,N=t.document,O=t.Object,S=function(t){var e,n,r,i,o=/^[A-Z]+[a-z]/,a=function(t){var e,n=[];for(e in s)t.test(e)&&n.push(e);return n},l=function(t,e){e=e.toLowerCase(),e in s||(s[t]=(s[t]||[]).concat(e),s[e]=s[e.toUpperCase()]=t)},s=(O.create||O)(null),c={};for(n in t)for(i in t[n])for(r=t[n][i],s[i]=r,e=0;e<r.length;e++)s[r[e].toLowerCase()]=s[r[e].toUpperCase()]=i;return c.get=function(t){return"string"==typeof t?s[t]||(o.test(t)?[]:""):a(t)},c.set=function(t,e){return o.test(t)?l(t,e):l(e,t),c},c}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}}),I="registerElement",j="__"+I+(1e5*t.Math.random()>>0),k="addEventListener",D="attached",F="Callback",R="detached",B="extends",P="attributeChanged"+F,V=D+F,U="connected"+F,q="disconnected"+F,$="created"+F,G=R+F,W="ADDITION",z="MODIFICATION",K="REMOVAL",Z="DOMAttrModified",J="DOMContentLoaded",X="DOMSubtreeModified",Q="<",Y="=",tt=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,et=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],nt=[],rt=[],it="",ot=N.documentElement,at=nt.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},lt=O.prototype,st=lt.hasOwnProperty,ct=lt.isPrototypeOf,ut=O.defineProperty,ht=[],dt=O.getOwnPropertyDescriptor,ft=O.getOwnPropertyNames,pt=O.getPrototypeOf,mt=O.setPrototypeOf,vt=!!O.__proto__,gt=!1,bt="__dreCEv1",Et=t.customElements,Tt=!!(Et&&Et.define&&Et.get&&Et.whenDefined),yt=O.create||O,wt=t.Map||function(){var t,e=[],n=[];return{get:function(t){return n[at.call(e,t)]},set:function(r,i){t=at.call(e,r),t<0?n[e.push(r)-1]=i:n[t]=i}}},_t=t.Promise||function(t){function e(t){for(r=!0;n.length;)n.shift()(t)}var n=[],r=!1,i={catch:function(){return i},then:function(t){return n.push(t),r&&setTimeout(e,1),i}};return t(e),i},Ct=!1,Mt=yt(null),Lt=yt(null),Ht=new wt,At=String,xt=O.create||function t(e){return e?(t.prototype=e,new t):this},Nt=mt||(vt?function(t,e){return t.__proto__=e,t}:ft&&dt?function(){function t(t,e){for(var n,r=ft(e),i=0,o=r.length;i<o;i++)n=r[i],st.call(t,n)||ut(t,n,dt(e,n))}return function(e,n){do t(e,n);while((n=pt(n))&&!ct.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),Ot=t.MutationObserver||t.WebKitMutationObserver,St=(t.HTMLElement||t.Element||t.Node).prototype,It=!ct.call(St,ot),jt=It?function(t,e,n){return t[e]=n.value,t}:ut,kt=It?function(t){return 1===t.nodeType}:function(t){return ct.call(St,t)},Dt=It&&[],Ft=St.attachShadow,Rt=St.dispatchEvent,Bt=St.getAttribute,Pt=St.hasAttribute,Vt=St.removeAttribute,Ut=St.setAttribute,qt=N.createElement,$t=qt,Gt=Ot&&{attributes:!0,characterData:!0,attributeOldValue:!0},Wt=Ot||function(t){Zt=!1,ot.removeEventListener(Z,Wt)},zt=0,Kt=!1,Zt=!0,Jt=!0,Xt=!0;if(I in N||(mt||vt?(A=function(t,e){ct.call(e,t)||h(t,e)},x=h):(A=function(t,e){t[j]||(t[j]=O(!0),h(t,e))},x=A),It?(Zt=!1,function(){var t=dt(St,k),e=t.value,n=function(t){var e=new CustomEvent(Z,{bubbles:!0});e.attrName=t,e.prevValue=Bt.call(this,t),e.newValue=null,e[K]=e.attrChange=2,Vt.call(this,t),Rt.call(this,e)},r=function(t,e){var n=Pt.call(this,t),r=n&&Bt.call(this,t),i=new CustomEvent(Z,{bubbles:!0});Ut.call(this,t,e),i.attrName=t,i.prevValue=n?r:null,i.newValue=e,n?i[z]=i.attrChange=1:i[W]=i.attrChange=0,Rt.call(this,i)},i=function(t){var e,n=t.currentTarget,r=n[j],i=t.propertyName;r.hasOwnProperty(i)&&(r=r[i],e=new CustomEvent(Z,{bubbles:!0}),e.attrName=r.name,e.prevValue=r.value||null,e.newValue=r.value=n[i]||null,null==e.prevValue?e[W]=e.attrChange=0:e[z]=e.attrChange=1,Rt.call(n,e))};t.value=function(t,o,a){t===Z&&this[P]&&this.setAttribute!==r&&(this[j]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,e.call(this,"propertychange",i)),e.call(this,t,o,a)},ut(St,k,t)}()):Ot||(ot[k](Z,Wt),ot.setAttribute(j,1),ot.removeAttribute(j),Zt&&(_=function(t){var e,n,r,i=this;if(i===t.target){e=i[j],i[j]=n=M(i);for(r in n){if(!(r in e))return C(0,i,r,e[r],n[r],W);if(n[r]!==e[r])return C(1,i,r,e[r],n[r],z)}for(r in e)if(!(r in n))return C(2,i,r,e[r],n[r],K)}},C=function(t,e,n,r,i,o){var a={attrChange:t,currentTarget:e,attrName:n,prevValue:r,newValue:i};a[o]=t,l(a)},M=function(t){for(var e,n,r={},i=t.attributes,o=0,a=i.length;o<a;o++)e=i[o],n=e.name,"setAttribute"!==n&&(r[n]=e.value);return r})),N[I]=function(t,e){if(a=t.toUpperCase(),Kt||(Kt=!0,Ot?(L=function(t,e){function n(t,e){for(var n=0,r=t.length;n<r;e(t[n++]));}return new Ot(function(r){for(var i,o,a,l=0,s=r.length;l<s;l++)i=r[l],"childList"===i.type?(n(i.addedNodes,t),n(i.removedNodes,e)):(o=i.target,Xt&&o[P]&&"style"!==i.attributeName&&(a=Bt.call(o,i.attributeName),a!==i.oldValue&&o[P](i.attributeName,i.oldValue,a)))})}(i(D),i(R)),H=function(t){return L.observe(t,{childList:!0,subtree:!0}),t},H(N),Ft&&(St.attachShadow=function(){return H(Ft.apply(this,arguments))})):(w=[],N[k]("DOMNodeInserted",s(D)),N[k]("DOMNodeRemoved",s(R))),N[k](J,c),N[k]("readystatechange",c),[St,DocumentFragment.prototype].forEach(function(t){var e=t.cloneNode;t.cloneNode=function(t){var n,i=e.call(this,!!t);return 11!==i.nodeType&&(n=o(i),-1<n&&x(i,rt[n])),t&&r(i.querySelectorAll(it)),i}})),-2<at.call(nt,Y+a)+at.call(nt,Q+a)&&f(t),!tt.test(a)||-1<at.call(et,a))throw new Error("The type "+t+" is invalid");var a,l,u=function(){return d?N.createElement(p,a):N.createElement(p)},h=e||lt,d=st.call(h,B),p=d?e[B].toUpperCase():a;return d&&-1<at.call(nt,Q+p)&&f(p),l=nt.push((d?Y:Q)+a)-1,it=it.concat(it.length?",":"",d?p+'[is="'+t.toLowerCase()+'"]':p),u.prototype=rt[l]=st.call(h,"prototype")?h.prototype:xt(St),n(N.querySelectorAll(it),D),u},N.createElement=$t=function(t,e){var n=b(e),r=n?qt.call(N,t,At(n)):qt.call(N,t),i=""+t,o=at.call(nt,(n?Y:Q)+(n||i).toUpperCase()),l=-1<o;return n&&(r.setAttribute("is",n=n.toLowerCase()),l&&(l=a(i.toUpperCase(),n))),Xt=!N.createElement.innerHTMLHelper,l&&x(r,rt[o]),r}),m.prototype={constructor:m,define:Tt?function(t,e,n){if(n)v(t,e,n);else{var r=t.toUpperCase();Mt[r]={constructor:e,create:[r]},Ht.set(e,r),Et.define(t,e)}}:v,get:Tt?function(t){return Et.get(t)||g(t)}:g,whenDefined:Tt?function(t){return _t.race([Et.whenDefined(t),T(t)])}:T},Et)try{!function(e,n,r){if(n[B]="a",e.prototype=xt(HTMLAnchorElement.prototype),e.prototype.constructor=e,t.customElements.define(r,e,n),Bt.call(N.createElement("a",{is:r}),"is")!==r||Tt&&Bt.call(new e,"is")!==r)throw n}(function t(){return Reflect.construct(HTMLAnchorElement,[],t)},{},"document-register-element-a")}catch(t){y()}else y();try{qt.call(N,"a","a")}catch(t){At=function(t){return{is:t}}}}(window),function(t){if(!("content"in t.createElement("template"))){var e=t.createElement("style");e.type="text/css",e.textContent="template { display: none !important; }",t.getElementsByTagName("head")[0].appendChild(e),Object.defineProperty(HTMLElement.prototype,"content",{configurable:!0,enumerable:!0,get:function(){if(this.__contentische__)return this.__contentische__;if("TEMPLATE"==this.tagName){for(var e,n=this.__contentische__=t.createDocumentFragment();e=this.firstChild;)n.appendChild(e);return n}}})}}(document),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("cellx")):"function"==typeof define&&define.amd?define(["cellx"],e):t.Rionite=t.rionite=e(t.cellx)}(this,function(t){"use strict";function e(t,e,n,r){var i=void 0;R.call(V,t)&&R.call(V[t],e)?(i=V[t][e],n&&(i=i[U(r[0])])):i=e;for(var o=Object.create(null),a=r.length;a;)o[a]=r[--a];n&&(o.n=r[0]);var l=[];i=i.split(P);for(var s=0,c=i.length;s<c;)s%3?(l.push(i[s+1]?i[s+1].split("|")[U(o[i[s]])]:o[i[s]]),s+=2):(l.push(i[s]),s++);return l.join("")}function n(t){V=t.texts,U=Function("n","return "+t.localeSettings.plural+";"),e.localeSettings=t.localeSettings}function r(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e("",t,!1,r)}function i(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return e(n,t,!1,i)}function o(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e("",t,!0,r)}function a(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return e(n,t,!0,i)}function l(t){return $.test(t)?t.replace($,function(t){return G[t]}):t}function s(t){return W.test(t)?t.replace(W,function(t){return z[t]}):t}function c(t){return"[object RegExp]"==B.call(t)}function u(t){return X[t]||(X[t]=t.replace(J,function(t,e){return e.toUpperCase()}))}function h(t){return et[t]||(et[t]=t.replace(Q,function(t,e,n){return"-"+e.toLowerCase()+n}).replace(Y,function(t,e){return"-"+e.toLowerCase()}).replace(tt,""))}function d(t){return at.test(t)?t.replace(at,function(t){return lt[t]}):t}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.parent=e;var n={js:[]},r=[n],i=this._blocks=Object.create(e?e._blocks:null);t=t.split(ct);for(var o=0,a=t.length;o<a;)if(o%6){var s=t[o];if(s)n.js.push("this."+s+".call(this, data)"),n=i[s]={name:s,js:[]},r.push(n);else if(t[o+1])r.length>1&&(r.pop(),n=r[r.length-1]);else if(t[o+2])e&&r.length>1&&e._blocks[n.name]&&n.js.push("_super.call(this, data)");else{var c=t[o+2];n.js.push(c?"escape(data."+c+")":"data."+t[o+3])}o+=5}else{var u=t[o];u&&n.js.push("'"+d(u)+"'"),o++}Object.keys(i).forEach(function(t){var n=e&&e._blocks[t],r=Function("_super","data","escape","return ["+i[t].js.join(", ")+"].join('');");i[t]=function(t){return r.call(this,n,t,l)}}),this._renderer=e?e._renderer:Function("data","escape","return ["+r[0].js.join(", ")+"].join('');")}function p(){var e=ft;ft=null;for(var n=0,r=e.length;n<r;n++){var i=e[n];try{i.callback.call(i.context)}catch(e){t.ErrorLogger.log(e)}}}function m(t,e){ft?ft.push({callback:t,context:e}):(ft=[{callback:t,context:e}],setTimeout(p,1))}function v(t){var e=t.elementIs;if(!e)throw new TypeError('Static property "elementIs" is required');if(R.call(t,"props")){var n=t.props;if(n&&(n.content||n.context))throw new TypeError('No need to declare property "'+(n.content?"content":"context")+'"');t.elementAttributes=n}var r=Object.getPrototypeOf(t.prototype).constructor;t.template!==r.template&&t.template&&bt.apply(t._markupBlockNames=[e],r._markupBlockNames||[]),t._assetClassNames=Object.create(r._assetClassNames||null);var i=t.elementExtends,o=i?dt[i]||window["HTML"+(i.charAt(0).toUpperCase()+i.slice(1))+"Element"]:HTMLElement,a=function(t){return o.call(this,t)},l=a.prototype=Object.create(o.prototype);return Object.defineProperty(a,"observedAttributes",{configurable:!0,enumerable:!0,get:function(){var e=t.elementAttributes;return e?Object.keys(e).map(function(t){return h(t)}):[]}}),Tt(l,vt),Object.defineProperty(l,"constructor",{configurable:!0,writable:!0,value:a}),l._rioniteComponentConstructor=t,dt[e]=customElements.define(e,a,i?{extends:i}:null),t}function g(t,e){for(var n=e;t.classList.add(n.elementIs),n=Object.getPrototypeOf(n.prototype).constructor,n!=Vt;);}function b(t,e){var n=t.elementAttributes,r=e.elementAttributes;for(var i in r)if("function"!=typeof r[i]){var o=u(i);n[o]=n[o]}}function E(t){if(_t[t])return _t[t];t=t.split("?");var e=t.length;if(1==e)return _t[t]="this."+t[0];for(var n=t.length-2,r=Array(n);n;)r[--n]=" && (temp = temp"+t[n+1]+")";return _t[t]="(temp = this."+t[0]+")"+r.join("")+" && temp"+t[t.length-1]}function T(t,e){var n=e.arguments;return"(this['"+e.name+"'] || formatters['"+e.name+"']).call(this, "+t+(n&&n.value.length?", "+n.value.join(", "):"")+")"}function y(t){var e=t.raw;if(Ot[e])return Ot[e];var n=t.keypath.value.split("?"),r=n.length,i=t.formatters,o=!!i.length;if(1==r)return Ot[e]={value:o?i.reduce(T,"this."+n[0]):"this."+n[0],usesFormatters:o};for(var a=r-2,l=Array(a);a;)l[--a]=" && (temp = temp"+n[a+1]+")";return Ot[e]={value:"(temp = this."+n[0]+")"+l.join("")+" && "+(o?i.reduce(T,"temp"+n[r-1]):"temp"+n[r-1]),usesFormatters:o}}function w(t){var e=t.raw;if(St[e])return St[e];var n=y(t),r="var temp; return "+n.value+";";if(n.usesFormatters){var i=function(){var t=Function("formatters",r);return{v:St[e]=function(){return t.call(this,q)}}}();if("object"==typeof i)return i.v}return St[e]=Function(r)}function _(t,e){if(It[e])return It[e];if(1==t.length){var n=t[0];if(n.type==yt.BINDING)return It[e]=w(n)}for(var r=!1,i=[],o=0,a=t.length;o<a;o++){var l=t[o];if(l.type==yt.TEXT)i.push("'"+d(l.value)+"'");else{var s=y(l);!r&&s.usesFormatters&&(r=!0),i.push(s.value)}}if(i="var temp; return ["+i.join(", ")+"].join('');",r){var c=function(){var t=Function("formatters",i);return{v:It[e]=function(){return t.call(this,q)}}}();if("object"==typeof c)return c.v}return It[e]=Function(i)}function C(t,e,n){n===!1||null==n?t.removeAttribute(e):t.setAttribute(e,n===!0?"":n)}function M(e,n,r){function i(e){for(var l=function(e){switch(e.nodeType){case 1:for(var l=e.attributes,s=l.length;s;){var c=l.item(--s),u=c.value;if(jt.test(u)){var h=new Nt(u).parse();(h.length>1||h[0].type==yt.BINDING)&&!function(){var n=c.name,i=new t.Cell(_(h,u),{owner:r,onChange:function(t){C(e,n,t.value)}});C(e,n,i.get()),(o||(o=[])).push(i)}()}}var d=e.$c;d&&(d.ownerComponent=n,d.props.context=r,(a||(a=[])).push(d)),!e.firstChild||d&&null!=d.constructor.template||i(e);break;case 3:var f=e.textContent;if(jt.test(f)){var p=new Nt(f).parse();if(p.length>1||p[0].type==yt.BINDING){var m=new t.Cell(_(p,f),{owner:r,onChange:function(t){e.textContent=t.value}});e.textContent=m.get(),(o||(o=[])).push(m)}}}},s=e.firstChild;s;s=s.nextSibling)l(s)}r||(r=n);var o=null,a=null;return i(e),{bindings:o,childComponents:a}}function L(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.isElementAttached||(r.isElementAttached=!0,r._attachElement())}}function H(t,e){for(var n in e){var r=void 0;if(":component"==n)r=t;else if(":element"==n)r=t.element;else if(r=t.$(n),!r)continue;var i=e[n];for(var o in i)t.listenTo(r,o,i[o])}}function A(t){var e=void 0,n=void 0,r=void 0;for(t instanceof Event?(e=t.target,n="rt-"+t.type):(e=t.target.element,n="rt-component-"+t.type);1==e.nodeType&&e.hasAttribute(n)&&(r||(r=[])).push(e),e=e.parentNode,e;){var i=e.$c;if(i&&r)for(var o=0,a=r.length;o<a;o++){var l=r[o],s=i[l.getAttribute(n)];if("function"==typeof s){if(s.call(i,t,l.$c||l)===!1)return void(t.isPropagationStopped=!0);if(t.isPropagationStopped)return}}}}function x(){}function N(){}function O(){}function S(){}function I(){}function j(){}function k(){}var D=t.Utils.nextUID,F=t.EventEmitter.extend({constructor:function(){this._disposables={}},listenTo:function(t,e,n,r){var i=this,o=void 0;if(Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection||t.addClass&&t.each){"object"!=typeof e||Array.isArray(e)?arguments.length<4&&(r=this):arguments.length<3&&(n=this),o=[];for(var a=0,l=t.length;a<l;a++)o.push(this.listenTo(t[a],e,n,r))}else if("object"==typeof e)if(o=[],Array.isArray(e)){arguments.length<4&&(r=this);for(var s=e,c=0,u=s.length;c<u;c++)o.push(this.listenTo(t,s[c],n,r))}else{r=arguments.length<3?this:n;var h=e;for(var d in h)o.push(this.listenTo(t,d,h[d],r))}else{if(arguments.length<4&&(r=this),"object"!=typeof n)return this._listenTo(t,e,n,r);var f=n;if(o=[],Array.isArray(f))for(var p=0,m=f.length;p<m;p++)o.push(this.listenTo(t,e,f[p],r));else for(var v in f)o.push(this.listenTo(t[v]("unwrap",0),e,f[v],r))}var g=D(),b=function(){for(var t=o.length;t;)o[--t].stop();delete i._disposables[g]},E=this._disposables[g]={stop:b,dispose:b};return E},_listenTo:function(e,n,r,i){var o=this;if(e instanceof t.EventEmitter)e.on(n,r,i);else{if(!e.addEventListener)throw new TypeError("Unable to add a listener");e!==i&&(r=r.bind(i)),e.addEventListener(n,r)}var a=D(),l=function(){o._disposables[a]&&(e instanceof t.EventEmitter?e.off(n,r,i):e.removeEventListener(n,r),delete o._disposables[a])},s=this._disposables[a]={stop:l,dispose:l};return s},setTimeout:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){var n=this,r=D(),i=setTimeout(function(){delete n._disposables[r],t.call(n)},e),o=function(){n._disposables[r]&&(clearTimeout(i),delete n._disposables[r])},a=this._disposables[r]={clear:o,dispose:o};return a}),setInterval:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){var n=this,r=D(),i=setInterval(function(){t.call(n)},e),o=function(){n._disposables[r]&&(clearInterval(i),delete n._disposables[r])},a=this._disposables[r]={clear:o,dispose:o};return a}),registerCallback:function(t){function e(){if(i._disposables[r])return delete i._disposables[r],t.apply(i,arguments)}var n=this,r=D(),i=this,o=function(){delete n._disposables[r]};return e.cancel=o,e.dispose=o,this._disposables[r]=e,e},dispose:function(){var t=this._disposables;for(var e in t)t[e].dispose();return this}}),R=Object.prototype.hasOwnProperty,B=Object.prototype.toString,P=/\{([1-9]\d*|n)(?::((?:[^|]*\|)+?[^}]*))?\}/,V=void 0,U=void 0;e.configure=n,e.t=r,e.pt=i,e.nt=o,e.npt=a,n({localeSettings:{code:"ru",plural:"(n%100) >= 5 && (n%100) <= 20 ? 2 : (n%10) == 1 ? 0 : (n%10) >= 2 && (n%10) <= 4 ? 1 : 2"},texts:{}});var q=Object.create(null);q.not=function(t){return!t},q.eq=function(t,e){return t==e},q.identical=function(t,e){return t===e},q.lt=function(t,e){return t<e},q.lte=function(t,e){return t<=e},q.gt=function(t,e){return t>e},q.gte=function(t,e){return t>=e},q.join=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:", ";return t.join(e)},q.t=e.t,q.pt=e.pt,q.nt=function(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return i.unshift(t),e("",n,!0,i)},q.npt=function(t,n,r){for(var i=arguments.length,o=Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return o.unshift(t),e(r,n,!0,o)};var $=/[&<>"]/g,G=Object.create(null);G["&"]="&amp;",G["<"]="&lt;",G[">"]="&gt;",G['"']="&quot;";var W=/&(?:amp|lt|gt|quot);/g,z=Object.create(null);z["&amp;"]="&",z["&lt;"]="<",z["&gt;"]=">",z["&quot;"]='"';var K=t.JS.Map,Z=new K([[Boolean,[function(t){return null!==t&&"no"!=t},function(t){return t?"":null}]],["boolean",[function(t,e){return null!==t?"no"!=t:e},function(t,e){return t?"":e?"no":null}]],[Number,[function(t){return null!==t?+t:void 0},function(t){return void 0!==t?String(+t):null}]],["number",[function(t,e){return null!==t?+t:e},function(t){return void 0!==t?String(+t):null}]],[String,[function(t){return null!==t?t:void 0},function(t){return void 0!==t?String(t):null}]],["string",[function(t,e){return null!==t?t:e},function(t){return void 0!==t?String(t):null}]],[Object,[function(t){return null!==t?Object(Function("return "+s(t)+";")()):void 0},function(t){return null!=t?l(c(t)?t.toString():JSON.stringify(t)):null}]],["object",[function(t,e){return null!==t?Object(Function("return "+s(t)+";")()):e},function(t){return null!=t?l(c(t)?t.toString():JSON.stringify(t)):null}]]]),J=/[-_]+([a-z]|$)/g,X=Object.create(null),Q=/-?([A-Z])([^A-Z])/g,Y=/-?([A-Z]+)/g,tt=/^-/,et=Object.create(null),nt=t.JS.Map,rt=new nt([[Boolean,"boolean"],["boolean","boolean"],[Number,"number"],["number","number"],[String,"string"],["string","string"]]),it=t.EventEmitter.extend({constructor:function(e){var n=this,r=e.$c,i=r.constructor.elementAttributes,o=function(o){var a=i[o],l=typeof a,s=void 0,c=void 0,d=void 0;if("function"==l)l=a,c=d=!1;else if("object"!=l||void 0===a.type&&void 0===a.default)s=a,c=d=!1;else{if(l=a.type,s=a.default,void 0===l)l=typeof s;else if(void 0!==s&&rt.get(l)!==typeof s)throw new TypeError("Specified type does not match type of defaultValue");c=a.required,d=a.readonly}var f=Z.get(l);if(!f)throw new TypeError("Unsupported attribute type");var p=u(o),m=h(o);if(c&&!e.hasAttribute(m))throw new TypeError('Property "'+o+'" is required');var v=void 0;d?!function(){var t=f[0](e.getAttribute(m),s);v={configurable:!0,enumerable:!0,get:function(){return t},set:function(e){if(e!==t)throw new TypeError('Property "'+o+'" is readonly')}}}():!function(){var i=void 0,o=void 0,a=void 0,l=n["_"+p]=n["_"+m]=new t.Cell(e.getAttribute(m),{merge:function(t,e){return t!==e&&(i=o,o=f[0](t,s)),a=r.isReady,t},onChange:function(t){t.oldValue=i,t.value=o,a&&r.elementAttributeChanged(m,i,o)}});v={configurable:!0,enumerable:!0,get:function(){return l.get(),o},set:function(t){t=f[1](t,s),null===t?e.removeAttribute(m):e.setAttribute(m,t),l.set(t)}}}(),Object.defineProperty(n,p,v),m!=p&&Object.defineProperty(n,m,v)};for(var a in i)o(a)}}),ot="[$_a-zA-Z][$\\w]*",at=/[\\'\r\n]/g,lt=Object.create(null);lt["\\"]="\\\\",lt["'"]="\\'",lt["\r"]="\\r",lt["\n"]="\\n";var st="(?:"+ot+"|\\[\\d+\\])(?:(?:\\."+ot+"|\\[\\d+\\]))*",ct=RegExp("{{(?:\\s*(?:"+("block\\s+("+ot+")|(\\/)block|(s)uper\\(\\)|("+st+")")+(")\\s*|{\\s*("+st+")\\s*}")+")}}");f.prototype.extend=function(t){return new f(t,this)},f.prototype.render=function(t){return this._renderer.call(this._blocks,t||{},l)};var ut,ht=t.Utils.mixin,dt=ht(Object.create(null),{a:window.HTMLAnchorElement,blockquote:window.HTMLQuoteElement,br:window.HTMLBRElement,caption:window.HTMLTableCaptionElement,col:window.HTMLTableColElement,colgroup:window.HTMLTableColElement,datalist:window.HTMLDataListElement,del:window.HTMLModElement,dir:window.HTMLDirectoryElement,dl:window.HTMLDListElement,document:window.HTMLDocument,element:Element,fieldset:window.HTMLFieldSetElement,frameset:window.HTMLFrameSetElement,h1:window.HTMLHeadingElement,h2:window.HTMLHeadingElement,h3:window.HTMLHeadingElement,h4:window.HTMLHeadingElement,h5:window.HTMLHeadingElement,h6:window.HTMLHeadingElement,hr:window.HTMLHRElement,iframe:window.HTMLIFrameElement,img:window.HTMLImageElement,ins:window.HTMLModElement,li:window.HTMLLIElement,menuitem:window.HTMLMenuItemElement,ol:window.HTMLOListElement,optgroup:window.HTMLOptGroupElement,p:window.HTMLParagraphElement,q:window.HTMLQuoteElement,tbody:window.HTMLTableSectionElement,td:window.HTMLTableCellElement,template:window.HTMLTemplateElement||HTMLElement,textarea:window.HTMLTextAreaElement,tfoot:window.HTMLTableSectionElement,th:window.HTMLTableCellElement,thead:window.HTMLTableSectionElement,tr:window.HTMLTableRowElement,ul:window.HTMLUListElement,vhgroupv:window.HTMLUnknownElement,vkeygen:window.HTMLUnknownElement}),ft=void 0,pt=t.JS.Symbol,mt=pt("Rionite.ElementProtoMixin.attached"),vt=(ut={rioniteComponent:null,get $c(){return new this._rioniteComponentConstructor(this)}},ut[mt]=!1,ut.connectedCallback=function(){this[mt]=!0;var t=this.rioniteComponent;t?t.isElementAttached?null===t._parentComponent&&(t._parentComponent=void 0,t.elementMoved()):(t._parentComponent=void 0,t.isElementAttached=!0,t._attachElement()):m(function(){if(this[mt]){var t=this.$c;t._parentComponent=void 0,t.parentComponent||(t.isElementAttached=!0,t._attachElement())}},this)},ut.disconnectedCallback=function(){this[mt]=!1;var t=this.rioniteComponent;t&&t.isElementAttached&&(t._parentComponent=null,m(function(){null===t._parentComponent&&t.isElementAttached&&(t.isElementAttached=!1,t._detachElement())}))},ut.attributeChangedCallback=function(t,e,n){var r=this.rioniteComponent;if(r&&r.isReady){var i=r.elementAttributes,o="_"+t;R.call(i,o)&&i[o].set(n)}},ut),gt=Array.prototype.slice,bt=Array.prototype.push,Et=Array.prototype.map,Tt=t.Utils.mixin,yt={TEXT:0,BINDING:1,BINDING_KEYPATH:2,BINDING_FORMATTER:3,BINDING_FORMATTER_ARGUMENTS:4},wt="(?:"+ot+"|\\[\\d+\\])(?:\\??(?:\\."+ot+"|\\[\\d+\\]))*",_t=Object.create(null),Ct=RegExp(ot+"|","g"),Mt=RegExp(wt+"|","g"),Lt=/false|true|/g,Ht=/(?:[+-]\s*)?(?:0b[01]+|0[0-7]+|0x[0-9a-fA-F]+|(?:(?:0|[1-9]\d*)(?:\.\d+)?|\.\d+)(?:[eE][+-]?\d+)?|Infinity|NaN)|/g,At=/null|undefined|void 0|/g,xt={},Nt=t.Utils.createClass({constructor:function(t){this.content=t},parse:function(){this.at=0;for(var t,e=this.result=[];(t=this.content.indexOf("{",this.at))>-1;){this.pushText(this.content.slice(this.at,t)),this.at=t,this.chr=this.content.charAt(t);var n=this.readBinding();n?e.push(n):(this.pushText(this.chr),this.next("{"))}return this.pushText(this.content.slice(this.at)),e},pushText:function(t){if(t.length){var e=this.result,n=e.length;n&&e[n-1].type==yt.TEXT?e[n-1].value=e[n-1].raw+=t:e.push({type:yt.TEXT,at:this.at,raw:t,value:t})}},readBinding:function(){var t=this.at;this.next("{"),this.skipWhitespaces();var e=this.readBindingKeypath();if(e){for(var n,r=[];"|"==this.skipWhitespaces()&&(n=this.readFormatter());)r.push(n);if("}"==this.chr)return this.next(),{type:yt.BINDING,at:t,raw:this.content.slice(t,this.at),keypath:e,formatters:r}}return this.at=t,this.chr=this.content.charAt(t),null},readBindingKeypath:function(){Mt.lastIndex=this.at;var t=Mt.exec(this.content)[0];if(t){var e=this.at;return this.chr=this.content.charAt(this.at+=t.length),{type:yt.BINDING_KEYPATH,at:e,raw:this.content.slice(e,this.at),value:t}}return null},readFormatter:function(){var t=this.at;this.next("|"),this.skipWhitespaces(),Ct.lastIndex=this.at;var e=Ct.exec(this.content)[0];if(e){var n="("==(this.chr=this.content.charAt(this.at+=e.length))?this.readFormatterArguments():null;return{type:yt.BINDING_FORMATTER,at:t,raw:this.content.slice(t,this.at),name:e,arguments:n}}return this.at=t,this.chr=this.content.charAt(t),null},readFormatterArguments:function(){var t=this.at,e=[];if(this.next("("),")"!=this.skipWhitespaces())for(;;){var n=this.readValueOrValueKeypath();if(n!==xt&&(","==this.skipWhitespaces()||")"==this.chr)){if(e.push(n),","==this.chr){this.next(),this.skipWhitespaces();continue}break}return this.at=t,this.chr=this.content.charAt(t),null}return this.next(),{type:yt.BINDING_FORMATTER_ARGUMENTS,at:t,raw:this.content.slice(t,this.at),value:e}},readValueOrValueKeypath:function(){var t=this.readValue();return t===xt?this.readValueKeypath():t},readValue:function(){switch(this.chr){case"{":return this.readObject();case"[":return this.readArray();case"'":case'"':return this.readString()}for(var t=["readBoolean","readNumber","readVacuum"],e=0,n=t.length;e<n;e++){var r=this[t[e]]();if(r!==xt)return r}return xt},readObject:function(){var t=this.at;this.next("{");for(var e="{";"}"!=this.skipWhitespaces();){
var n="'"==this.chr||'"'==this.chr?this.readString():this.readObjectKey();if(n!==xt&&null!==n&&":"==this.skipWhitespaces()){this.next(),this.skipWhitespaces();var r=this.readValueOrValueKeypath();if(r!==xt){if(","==this.skipWhitespaces()){e+=n+":"+r+",",this.next();continue}if("}"==this.chr){e+=n+":"+r+"}";break}}}return this.at=t,this.chr=this.content.charAt(t),xt}return this.next(),e},readObjectKey:function(){Ct.lastIndex=this.at;var t=Ct.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),t):null},readArray:function(){var t=this.at;this.next("[");for(var e="[";"]"!=this.skipWhitespaces();)if(","==this.chr)e+=",",this.next();else{var n=this.readValueOrValueKeypath();if(n===xt)return this.at=t,this.chr=this.content.charAt(t),xt;e+=n}return this.next(),e+"]"},readBoolean:function(){Lt.lastIndex=this.at;var t=Lt.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),t):xt},readNumber:function(){Ht.lastIndex=this.at;var t=Ht.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),t):xt},readString:function(){if("'"!=this.chr&&'"'!=this.chr)throw{name:"SyntaxError",message:'Expected "\'" or \'"\' instead of "'+this.chr+'"',at:this.at,content:this.content};for(var t=this.at,e=this.chr,n="";this.next();){if(this.chr==e)return this.next(),e+n+e;if("\\"==this.chr)n+=this.chr+this.next();else{if("\r"==this.chr||"\n"==this.chr)break;n+=this.chr}}return this.at=t,this.chr=this.content.charAt(t),xt},readVacuum:function(){At.lastIndex=this.at;var t=At.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),t):xt},readValueKeypath:function(){Mt.lastIndex=this.at;var t=Mt.exec(this.content)[0];return t?(this.chr=this.content.charAt(this.at+=t.length),E(t)):xt},next:function(t){if(t&&t!=this.chr)throw{name:"SyntaxError",message:'Expected "'+t+'" instead of "'+this.chr+'"',at:this.at,content:this.content};return this.chr=this.content.charAt(++this.at)},skipWhitespaces:function(){for(var t=this.chr;t&&t<=" ";)t=this.next();return t}}),Ot=Object.create(null),St=Object.create(null),It=Object.create(null),jt=/{[^}]+}/,kt=["click","dblclick","mousedown","mouseup","input","change","submit","focusin","focusout"],Dt=document.createRange(),Ft=void 0;Dt.createContextualFragment?!function(){var t=!1;Ft=function(e){return t||(Dt.selectNode(document.body),t=!0),Dt.createContextualFragment(e)}}():Ft=function(t){var e=document.createElement("div"),n=document.createDocumentFragment();e.innerHTML=t;for(var r;r=e.firstChild;)n.appendChild(r);return n};var Rt=Ft,Bt=t.JS.Map,Pt=t.Utils.createClass,Vt=t.EventEmitter.extend({Implements:[F],Static:{register:v,extend:function(t,e){return e.Extends=this,(e.Static||(e.Static={})).elementIs=t,v(Pt(e))},elementIs:void 0,elementExtends:void 0,elementAttributes:null,props:null,i18n:null,template:null,_rawContent:null,_markupBlockNames:null,_assetClassNames:null,events:null},ownerComponent:null,_parentComponent:null,get parentComponent(){if(void 0!==this._parentComponent)return this._parentComponent;for(var t;t=(t||this.element).parentNode;)if(t.$c)return this._parentComponent=t.$c;return this._parentComponent=null},element:null,get elementAttributes(){var t=new it(this.element);return Object.defineProperty(this,"elementAttributes",{configurable:!0,enumerable:!0,writable:!0,value:t}),t},get props(){var t=Object.create(this.elementAttributes);return t.content=null,t.context=null,Object.defineProperty(this,"props",{configurable:!0,enumerable:!0,writable:!0,value:t}),t},_bindings:null,_assets:null,isElementAttached:!1,initialized:!1,isReady:!1,_isComponentSilent:void 0,constructor:function(e,n){if(t.EventEmitter.call(this),F.call(this),null==e)e=document.createElement(this.constructor.elementIs);else if("string"==typeof e){var r=this.constructor.elementIs,i=e;e=document.createElement(r),e.innerHTML=i;var o=e.firstChild;o==e.lastChild&&1==o.nodeType&&o.tagName.toLowerCase()==r&&(e=o)}if(this.element=e,e.rioniteComponent=this,Object.defineProperty(e,"$c",{value:this}),n){var a=this.props;for(var l in n)a[u(l)]=n[l]}this.created()},_handleEvent:function(e){t.EventEmitter.prototype._handleEvent.call(this,e);var n=this._isComponentSilent;if(void 0===n&&(n=this._isComponentSilent=this.element.hasAttribute("rt-silent")),!n&&e.bubbles!==!1&&!e.isPropagationStopped){var r=this.parentComponent;r?r._handleEvent(e):A(e)}},_attachElement:function(){this.initialized||(this.initialize(),this.initialized=!0);var t=this.constructor,e=t._rawContent,n=this.element;if(this.isReady){if(e)for(var r;r=n.firstChild;)n.removeChild(r)}else{g(n,t),b(this,t);var i=t.template;if(null!=i){e||(e=t._rawContent=Rt("string"==typeof i?i:i.render(t)));for(var o,a=this.props.content=document.createDocumentFragment();o=n.firstChild;)a.appendChild(o)}}if(e){var l=e.cloneNode(!0),s=M(l,this),c=s.bindings,u=s.childComponents;this._bindings=c,this.element.appendChild(l),u&&L(u),H(this,t.events)}this.isReady||(e||H(this,t.events),this.ready(),this.isReady=!0),this.elementAttached()},_detachElement:function(){this.dispose(),this.elementDetached()},dispose:function(){this._destroyBindings(),F.prototype.dispose.call(this)},_destroyBindings:function(){var t=this._bindings;if(t){for(var e=t.length;e;)t[--e].off();this._bindings=null}},created:x,initialize:N,ready:O,elementAttached:S,elementDetached:I,elementMoved:j,elementAttributeChanged:k,$:function(t,e){"boolean"==typeof e&&(e={useCache:e});var n=!e||e.useCache!==!1,r=e&&e.all,i=this._assets||(this._assets=new Bt),o=n&&i.get(r?t+"*":t);if(!o){var a=e&&e.container,l=this.constructor,s=l._assetClassNames[t],c=a?a instanceof Vt?a.element:a:this.element,u=void 0;if(s)u=c.getElementsByClassName(s);else for(var h=l._markupBlockNames,d=h.length;d;)if(s=h[--d]+"__"+t,u=c.getElementsByClassName(s),u.length){l._assetClassNames[t]=s;break}if(r)return i.set(t+"*",u),u;var f=u[0];o=f?f.$c||f:null,i.set(t,o)}return o},$$:function(t,e){return"boolean"==typeof e&&(e={useCache:e}),Et.call(this.$(t,{__proto__:e,all:!0}),function(t){return t.$c||t})}});document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),kt.forEach(function(t){document.addEventListener(t,A)})});var Ut=document.createElement("div");Ut.innerHTML="<template>1</template>";var qt=Ut.firstChild,$t=!qt.firstChild,Gt=t.JS.Symbol("Rionite.RtContent#templatesFixed"),Wt=Vt.extend("rt-content",{Static:{props:{select:{type:String,readonly:!0},getContext:{type:String,readonly:!0}},template:""},_rawContent:void 0,_attachElement:function(){var t=this.ownerComponent,e=this.element,n=this.props;if(this.isReady)for(var r;r=e.firstChild;)e.removeChild(r);else{for(var i,o=n.content=document.createDocumentFragment();i=e.firstChild;)o.appendChild(i);var a=t.props.content,l=this.elementAttributes.select;if(l){if(!$t&&!a[Gt]){for(var s=a.querySelectorAll("template"),c=s.length;c;)s[--c].content;a[Gt]=!0}var u=a.querySelectorAll(l),h=u.length;if(h)for(var d=this._rawContent=document.createDocumentFragment(),f=0;f<h;f++)d.appendChild(u[f].cloneNode(!0));else this._rawContent=o}else this._rawContent=a.firstChild?a:o;this.isReady=!0}var p=this._rawContent.cloneNode(!0),m=n.getContext,v=this._rawContent==n.content?M(p,t,m?t[m](this,n.context):n.context):M(p,t.ownerComponent,m?t[m](this,t.props.context):t.props.context),g=v.bindings,b=v.childComponents;this._bindings=g,e.appendChild(p),b&&L(b)},_detachElement:function(){this._destroyBindings()}}),zt=t.Utils.nextTick,Kt=Vt.extend("rt-if-then",{Static:{elementExtends:"template",props:{if:{type:String,required:!0,readonly:!0}}},_if:null,_elseMode:!1,_nodes:null,_attachElement:function(){var e=this;this.initialized||!function(){var n=e.props;n.content=document.importNode(e.element.content,!0);var r=new Nt("{"+n.if+"}").parse();if(r.length>1||r[0].type!=yt.BINDING)throw new SyntaxError('Invalid value of attribute "if" ('+n.if+")");var i=w(r[0]);e._if=new t.Cell(function(){return!!i.call(this)},{owner:n.context}),e.initialized=!0}(),this._render(!1),this._if.on("change",this._onIfChange,this)},_detachElement:function(){this._destroyBindings(),this._if.off("change",this._onIfChange,this);var t=this._nodes;if(t)for(var e=t.length;e;){var n=t[--e],r=n.parentNode;r&&r.removeChild(n)}},_onIfChange:function(){this._render(!0)},_render:function(t){var e=this;if(this._elseMode?!this._if.get():this._if.get()){var n=this.props.content.cloneNode(!0),r=M(n,this.ownerComponent,this.props.context),i=r.bindings,o=r.childComponents;this._nodes=gt.call(n.childNodes),this._bindings=i,this.element.parentNode.insertBefore(n,this.element.nextSibling),o&&L(o)}else{this._destroyBindings();var a=this._nodes;if(a){for(var l=a.length;l;){var s=a[--l];s.parentNode.removeChild(s)}this._nodes=null}}t&&zt(function(){e.emit("change")})}}),Zt=Kt.extend("rt-if-else",{Static:{elementExtends:"template"},_elseMode:!0}),Jt=t.JS.Map,Xt=t.Utils.nextTick,Qt=RegExp("^\\s*("+ot+")\\s+of\\s+(\\S.*)$"),Yt='Invalid value of attribute "for"',te=Vt.extend("rt-repeat",{Static:{elementExtends:"template",props:{for:{type:String,required:!0,readonly:!0},trackBy:{type:String,readonly:!0},strip:{default:!1,readonly:!0}}},_itemName:void 0,_list:null,_itemMap:null,_oldItemMap:null,_trackBy:void 0,_rawItemContent:null,_context:null,_lastNode:null,_attachElement:function(){if(!this.initialized){var e=this.props,n=e.for.match(Qt);if(!n)throw new SyntaxError(Yt+(" ("+e.for+")"));var r=new Nt("{"+n[2]+"}").parse();if(r.length>1||r[0].type!=yt.BINDING)throw new SyntaxError(Yt+(" ("+e.for+")"));this._itemName=n[1],this._list=new t.Cell(w(r[0]),{owner:e.context}),this._itemMap=new Jt,this._trackBy=e.trackBy;var i=this._rawItemContent=document.importNode(this.element.content,!0);if(e.strip){var o=i.firstChild,a=i.lastChild;o==a?3==o.nodeType&&(o.textContent=o.textContent.trim()):(3==o.nodeType&&((o.textContent=o.textContent.replace(/^\s+/,""))||i.removeChild(o)),3==a.nodeType&&((a.textContent=a.textContent.replace(/\s+$/,""))||i.removeChild(a)))}this._context=e.context,this.initialized=!0}this._render(!1),this._list.on("change",this._onListChange,this)},_detachElement:function(){this._clearWithItemMap(this._itemMap),this._list.off("change",this._onListChange,this)},_onListChange:function(){this._render(!0)},_render:function(t){var e=this,n=this._oldItemMap=this._itemMap;this._itemMap=new Jt;var r=this._list.get(),i=!1;if(r&&(this._lastNode=this.element,i=r.reduce(function(t,n,r){return e._renderItem(n,r)||t},i)),n.size)this._clearWithItemMap(n);else if(!i)return;t&&Xt(function(){e.emit("change")})},_renderItem:function(e,n){var r,i=this._trackBy,o=i?"$index"==i?n:e[i]:e,a=this._oldItemMap.get(o),l=this._itemMap.get(o);if(a){var s=void 0;1==a.length?(s=a[0],this._oldItemMap.delete(o)):s=a.shift(),l?l.push(s):this._itemMap.set(o,[s]),s.item.set(e);var c=s.nodes;if(n==s.index.get())return this._lastNode=c[c.length-1],!1;if(s.index.set(n),1==c.length){var u=c[0];this._lastNode.parentNode.insertBefore(u,this._lastNode.nextSibling),this._lastNode=u}else{for(var h=document.createDocumentFragment(),d=0,f=c.length;d<f;d++)h.appendChild(c[d]);var p=h.lastChild;this._lastNode.parentNode.insertBefore(h,this._lastNode.nextSibling),this._lastNode=p}return!0}e=new t.Cell(e),n=new t.Cell(n);var m=this._rawItemContent.cloneNode(!0),v=Object.create(this._context,(r={},r[this._itemName]={get:function(){return e.get()}},r.$index={get:function(){return n.get()}},r)),g=M(m,this.ownerComponent,v),b=g.bindings,E=g.childComponents,T={item:e,index:n,nodes:gt.call(m.childNodes),bindings:b};l?l.push(T):this._itemMap.set(o,[T]);var y=m.lastChild;return this._lastNode.parentNode.insertBefore(m,this._lastNode.nextSibling),this._lastNode=y,E&&L(E),!0},_clearWithItemMap:function(t){t.forEach(this._clearWithItems,this),t.clear()},_clearWithItems:function(t){for(var e=t.length;e;){var n=t[--e],r=n.bindings;if(r)for(var i=r.length;i;)r[--i].off();for(var o=n.nodes,a=o.length;a;){var l=o[--a],s=l.parentNode;s&&s.removeChild(l)}}}}),ee={DisposableMixin:F,formatters:q,getText:e,ElementAttributes:it,ComponentTemplate:f,Component:Vt,Components:{RtContent:Wt,RtIfThen:Kt,RtIfElse:Zt,RtRepeat:te},Utils:{camelize:u,hyphenize:h,escapeString:d,escapeHTML:l,unescapeHTML:s,isRegExp:c,defer:m,htmlToFragment:Rt}};return ee.Rionite=ee,ee});